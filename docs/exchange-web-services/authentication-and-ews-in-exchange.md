---
title: Exchange の認証と EWS
manager: sethgros
ms.date: 03/9/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: 9a83df96-aca0-42b3-b8f5-2b414f0363f1
description: Exchange を対象とする EWS アプリケーションの適切な認証基準の選択に役立つ情報を紹介します。
ms.openlocfilehash: c81b29cbe9aa3c658a8f776876366fd0875b2669
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/21/2018
ms.locfileid: "19758878"
---
# <a name="authentication-and-ews-in-exchange"></a><span data-ttu-id="ed0e2-103">Exchange の認証と EWS</span><span class="sxs-lookup"><span data-stu-id="ed0e2-103">Authentication and EWS in Exchange</span></span>

<span data-ttu-id="ed0e2-104">Exchange を対象とする EWS アプリケーションの適切な認証基準の選択に役立つ情報を紹介します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-104">Find information to help you choose the right authentication standard for your EWS application that targets Exchange.</span></span>
  
<span data-ttu-id="ed0e2-p101">認証は、Exchange Web サービス (EWS) アプリケーションの主要な部分の 1 つです。Exchange Online、Office 365 の一部としての Exchange Online、および Exchange 2013 以降のオンプレミス バージョンの Exchange では、アプリケーションと Exchange サーバー間の通信をセキュリティで保護するため、標準的な Web 認証プロトコルをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-p101">Authentication is a key part of your Exchange Web Services (EWS) application. Exchange Online, Exchange Online as part of Office 365, and on-premises versions of Exchange starting with Exchange Server 2013 support standard web authentication protocols to help secure the communication between your application and the Exchange server.</span></span>
  
<span data-ttu-id="ed0e2-107">Exchange Online を対象にしている、選択した認証方法は要求と、アプリケーションが送信する応答を暗号化するために HTTPS を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-107">If you're targeting Exchange Online, the authentication method that you choose must use HTTPS to encrypt the requests and responses that your application sends.</span></span> <span data-ttu-id="ed0e2-108">オンプレミスの Exchange サーバーは、HTTP を使用できますが、アプリケーションと Exchange サーバー間のセキュリティで保護された通信のために、アプリケーションが EWS のエンドポイントに送信するすべての要求には、HTTPS を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-108">Although you can use HTTP with Exchange on-premises servers, we recommend that you use HTTPS for any request that your application sends to an EWS endpoint to help secure communication between your application and an Exchange server.</span></span>
  
<span data-ttu-id="ed0e2-109">Exchange には認証オプションが用意されており、次の中から選択できます。 </span><span class="sxs-lookup"><span data-stu-id="ed0e2-109">Exchange provides the following authentication options for you to choose from:</span></span> 
  
- <span data-ttu-id="ed0e2-110">OAuth 2.0 (Exchange Online のみ)</span><span class="sxs-lookup"><span data-stu-id="ed0e2-110">OAuth 2.0 (Exchange Online only)</span></span>
    
- <span data-ttu-id="ed0e2-111">NTLM (オンプレミスの Exchange のみ)</span><span class="sxs-lookup"><span data-stu-id="ed0e2-111">NTLM (Exchange on-premises only)</span></span>
    
- <span data-ttu-id="ed0e2-112">基本 (推奨されていません)</span><span class="sxs-lookup"><span data-stu-id="ed0e2-112">Basic (no longer recommended)</span></span>
    
<span data-ttu-id="ed0e2-113">選択した認証方法は、組織は Exchange のオンラインまたは Exchange 設置のどちらを使用しているかどうか、OAuth トークンを発行できるサードパーティのプロバイダーへのアクセスがあるかどうかのセキュリティ要件によって異なります。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-113">The authentication method that you choose depends on the security requirements of your organization, whether you are using Exchange Online or Exchange on-premises, and whether you have access to a third-party provider that can issue OAuth tokens.</span></span> <span data-ttu-id="ed0e2-114">この資料では、アプリケーションの適切な標準の認証を選択するうえで役立つ情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-114">This article provides information that will help you select the authentication standard that's right for your application.</span></span>
  
## <a name="oauth-authentication"></a><span data-ttu-id="ed0e2-115">OAuth 認証</span><span class="sxs-lookup"><span data-stu-id="ed0e2-115">OAuth authentication</span></span>

<span data-ttu-id="ed0e2-p104">すべての新しいアプリケーションで OAuth 標準を使用して、Exchange Online サービスに接続することをお勧めします。アプリケーションに OAuth を実装するためには追加の作業が必要ですが、基本認証に勝るセキュリティ上の利点はそれに見合う価値があります。ただし、レコードに関しては、認識しておくべきデメリットもいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-p104">We recommend that all new applications use the OAuth standard to connect to Exchange Online services. The advantage in security over basic authentication is worth the additional work required to implement OAuth in your application. For the record, however, there are also some disadvantages that you should be aware of.</span></span>
  
<span data-ttu-id="ed0e2-119">**表 1 です。OAuth を使用しての利点と欠点**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-119">**Table 1. Advantages and disadvantages of using OAuth**</span></span>

|<span data-ttu-id="ed0e2-120">**利点**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-120">**Advantages**</span></span>|<span data-ttu-id="ed0e2-121">**短所**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-121">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="ed0e2-122">OAuth は業界標準の認証プロトコルです。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-122">OAuth is an industry-standard authentication protocol.</span></span><br/><br/><span data-ttu-id="ed0e2-p105">認証はサードパーティのプロバイダーによって管理されます。アプリケーションで Exchange の資格情報を収集して保存する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-p105">Authentication is managed by a third-party provider. Your application does not have to collect and store the Exchange credentials.</span></span><br/><br/><span data-ttu-id="ed0e2-125">心配が少ないため、アプリケーションは、認証プロバイダーから不明確なトークンを受信するだけしたがって、アプリケーションのセキュリティ侵害はトークン、ユーザーの Exchange 情報ではないのみを公開できます。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-125">Fewer worries for you, because your application only receives an opaque token from the authentication provider; therefore, a security breach in your application can only expose the token, not the user's Exchange credentials.</span></span>  <br/> | <span data-ttu-id="ed0e2-p106">OAuth はサード パーティの認証プロバイダーに依存しています。このためユーザーの組織や顧客に追加のコストが発生します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-p106">OAuth relies on a third-party authentication provider. This can impose additional costs on your organization or your customers.</span></span><br/><br/><span data-ttu-id="ed0e2-128">OAuth 標準の実装は基本認証の実装よりも困難です。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-128">The OAuth standard is more difficult to implement than basic authentication.</span></span><br/><br/><span data-ttu-id="ed0e2-129">OAuth を実装するには、認証プロバイダーと Exchange サーバーの両方にアプリケーションを統合する必要があります。 </span><span class="sxs-lookup"><span data-stu-id="ed0e2-129">To implement OAuth, you need to integrate your application with both the authentication provider and the Exchange server.</span></span>  <br/> |
   
<span data-ttu-id="ed0e2-130">短所を最小限に抑えるために、ことができますを使用する[Microsoft Azure AD 認証ライブラリ](http://msdn.microsoft.com/library/a03f39fa-7ba4-4182-a98e-55562a64b8f3%28Office.15%29.aspx)(ADAL) クラウドまたはオンプレミスの Active Directory ドメイン サービス (AD DS) に対してユーザーを認証し、呼び出しのセキュリティを保護するためのアクセス トークンを取得しに、Exchange サーバーです。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-130">To help minimize the disadvantages, you can use the [Microsoft Azure AD Authentication Library](http://msdn.microsoft.com/library/a03f39fa-7ba4-4182-a98e-55562a64b8f3%28Office.15%29.aspx) (ADAL) to authenticate users to Active Directory Domain Services (AD DS) in the cloud or on-premises and then obtain access tokens for securing calls to an Exchange server.</span></span> <span data-ttu-id="ed0e2-131">Exchange Online は、ADAL でサポートされている、Azure Active Directory サービスによって発行されたトークンが必要です。ただし、任意のサードパーティのライブラリを使用できます。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-131">Exchange Online requires tokens issued by the Azure Active Directory service, which is supported by the ADAL; however, you can use any third-party library.</span></span> 
  
<span data-ttu-id="ed0e2-132">EWS アプリケーションで OAuth 認証を使用する方法の詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-132">To learn more about using OAuth authentication in your EWS application, see the following resources:</span></span>
  
- <span data-ttu-id="ed0e2-133">[Office 365 の試用版](http://office.microsoft.com/compare-office-365-for-business-plans-FX102918419.aspx?CR_CC=200061904&amp;WT.srch=1&amp;WT.mc_ID=PS_bing_O365Comm_office%20365%20trial_Text)を使用して、クライアント アプリケーションをテストするのには Exchange サーバーをセットアップします。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-133">[Office 365 trial](http://office.microsoft.com/compare-office-365-for-business-plans-FX102918419.aspx?CR_CC=200061904&amp;WT.srch=1&amp;WT.mc_ID=PS_bing_O365Comm_office%20365%20trial_Text), to set up an Exchange server to use to test your client application.</span></span>
    
- [<span data-ttu-id="ed0e2-134">Azure AD Authentication Library for .NET</span><span class="sxs-lookup"><span data-stu-id="ed0e2-134">Azure AD Authentication Library for .NET</span></span>](http://msdn.microsoft.com/library/a03f39fa-7ba4-4182-a98e-55562a64b8f3%28Office.15%29.aspx)
    
- <span data-ttu-id="ed0e2-135">[Azure Active Directory の構成](http://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx)、OAuth トークンを認証に使用するアプリケーションを有効にします。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-135">[Configure Azure Active Directory](http://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx), to enable your application to use OAuth tokens for authentication.</span></span>
    
- <span data-ttu-id="ed0e2-136">[認証 OAuth を使用して、EWS アプリケーション](how-to-authenticate-an-ews-application-by-using-oauth.md)を調べることができますコードの例のサンプル コードを確認します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-136">Review the sample code in [Authenticate an EWS application by using OAuth](how-to-authenticate-an-ews-application-by-using-oauth.md) for example code that you can study.</span></span> 
    
## <a name="ntlm-authentication"></a><span data-ttu-id="ed0e2-137">NTLM 認証</span><span class="sxs-lookup"><span data-stu-id="ed0e2-137">NTLM authentication</span></span>

<span data-ttu-id="ed0e2-p108">NTLM 認証が使用できるのは、オンプレミスの Exchange サーバーのみです。会社のファイアウォールの内側で実行されるアプリケーションに対しては、NTLM 認証と .NET Framework 間の統合で、アプリケーションを認証するための組み込みの手段を用意しています。 </span><span class="sxs-lookup"><span data-stu-id="ed0e2-p108">NTLM authentication is only available for Exchange on-premises servers. For applications that run inside the corporate firewall, integration between NTLM authentication and the .NET Framework provides a built-in means to authenticate your application.</span></span> 
  
<span data-ttu-id="ed0e2-140">**表 2 になります。NTLM 認証を使用しての利点と欠点**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-140">**Table 2. Advantages and disadvantages of using NTLM authentication**</span></span>

|<span data-ttu-id="ed0e2-141">**利点**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-141">**Advantages**</span></span>|<span data-ttu-id="ed0e2-142">**短所**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-142">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="ed0e2-143">Works「アウト ボックスの」Exchange サーバーにします。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-143">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="ed0e2-144">[Exchange 管理シェル コマンドレット](how-to-control-access-to-ews-in-exchange.md)を使用して Exchange サービスへのアクセスを構成できます。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-144">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="ed0e2-145">.NET Framework [CredentialCache](http://msdn2.microsoft.com/EN-US/library/615e0wsd)オブジェクトを使用すると、自動的にユーザーの資格情報を取得します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-145">Uses the .NET Framework [CredentialCache](http://msdn2.microsoft.com/EN-US/library/615e0wsd) object to automatically get the user's credentials.</span></span><br/><br/><span data-ttu-id="ed0e2-146">[コード サンプルは、利用可能な](http://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c)を使用して、ログオンしたユーザーの資格情報に、オンプレミスの Exchange サーバーへの認証をします。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-146">[Code samples are available](http://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that use the logged on user's credentials for authentication to an on-premises Exchange server.</span></span>  <br/> | <span data-ttu-id="ed0e2-147">ユーザーは、NTLM 認証を使用するためにドメインにログオンする必要がある。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-147">Users must be logged on to a domain to use NTLM authentication.</span></span><br/><br/><span data-ttu-id="ed0e2-148">ユーザーのドメイン アカウントに関連付けられていないメール アカウントにアクセスすることが困難となります。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-148">It can be difficult to access email accounts that are not associated with the user's domain account.</span></span><br/><br/><span data-ttu-id="ed0e2-149">サービス アプリケーションに、NTLM 認証を利用するためのドメイン アカウントが必要。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-149">Service applications must have a domain account to take advantage of NTLM authentication.</span></span>  <br/> |
   
## <a name="basic-authentication"></a><span data-ttu-id="ed0e2-150">基本認証</span><span class="sxs-lookup"><span data-stu-id="ed0e2-150">Basic authentication</span></span>

<span data-ttu-id="ed0e2-p110">基本認証は、クライアント アプリケーションに対して適切な基本レベルのセキュリティを提供します。すべての新しいアプリケーションが認証用に、NTLM または OAuth プロトコルを使用することを強くお勧めします。ただし、状況によっては、基本認証を選択することが適切な場合もあります。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-p110">Basic authentication provides a, well, basic level of security for your client application. We do recommend that all new applications use either NTLM or the OAuth protocol for authentication; however, basic authentication can be the correct choice for your application in some circumstances.</span></span>
  
<span data-ttu-id="ed0e2-153">**表 3。基本認証を使用しての利点と欠点**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-153">**Table 3. Advantages and disadvantages of using basic authentication**</span></span>

|<span data-ttu-id="ed0e2-154">**利点**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-154">**Advantages**</span></span>|<span data-ttu-id="ed0e2-155">**短所**</span><span class="sxs-lookup"><span data-stu-id="ed0e2-155">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="ed0e2-156">Works「アウト ボックスの」Exchange サーバーにします。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-156">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="ed0e2-157">[Exchange 管理シェル コマンドレット](how-to-control-access-to-ews-in-exchange.md)を使用して Exchange サービスへのアクセスを構成できます。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-157">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="ed0e2-158">Windows アプリケーションでは、ログオンしたユーザーの既定の資格情報を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-158">Windows applications can use the logged on user's default credentials.</span></span><br/><br/><span data-ttu-id="ed0e2-159">多く[なコード サンプルでは利用可能な](http://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c)EWS が基本認証を使用してを呼び出す方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-159">Many [code samples are available](http://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that show you how to call EWS using basic authentication.</span></span>  <br/> | <span data-ttu-id="ed0e2-160">収集し、ユーザーの資格情報を保存するようにアプリケーションが必要です。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-160">Requires your application to collect and store the user's credentials.</span></span><br/><br/><span data-ttu-id="ed0e2-161">すべてのユーザが基本認証を使用するには、NTLM 認証を無効にする必要がある。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-161">You have to turn off NTLM authentication for all users to use basic authentication.</span></span><br/><br/><span data-ttu-id="ed0e2-162">アプリケーションでは、セキュリティ侵害が発生する場合、ユーザーの電子メール アドレスと、攻撃者にパスワードを公開できます。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-162">If a security breach occurs in your application, it can expose the user's email address and password to the attacker.</span></span>  <br/> |
   
<span data-ttu-id="ed0e2-p112">基本認証が、ユーザーの組織と顧客のセキュリティ要件を満たしているかどうかを判断する必要があります。基本認証は、簡単なテストやデモ アプリケーションなどで、詳細なセットアップ タスクを行わないようにする場合に、最適な選択肢になることがあります。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-p112">You need to decide if basic authentication meets the security requirements of your organization and customers. Basic authentication can be the right choice if you want to avoid extensive setup tasks, for example for simple test or demonstration applications.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="ed0e2-165">関連項目</span><span class="sxs-lookup"><span data-stu-id="ed0e2-165">See also</span></span>

- [<span data-ttu-id="ed0e2-166">Exchange で Web サービスの使用を開始する</span><span class="sxs-lookup"><span data-stu-id="ed0e2-166">Start using web services in Exchange</span></span>](start-using-web-services-in-exchange.md)   
- [<span data-ttu-id="ed0e2-167">サインオン Microsoft Azure AD を使用して Web アプリケーションに追加します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-167">Adding Sign-On to Your Web Application Using Microsoft Azure AD</span></span>](http://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx)    
- [<span data-ttu-id="ed0e2-168">Exchange EWS へのアクセスを制御します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-168">Control access to EWS in Exchange</span></span>](how-to-control-access-to-ews-in-exchange.md)    
- [<span data-ttu-id="ed0e2-169">Exchange クライアント アプリケーションの EWS へのアクセスを制御します。</span><span class="sxs-lookup"><span data-stu-id="ed0e2-169">Controlling client application access to EWS in Exchange</span></span>](controlling-client-application-access-to-ews-in-exchange.md)    
- [<span data-ttu-id="ed0e2-170">サポートされているトークンと要求の種類</span><span class="sxs-lookup"><span data-stu-id="ed0e2-170">Supported Token and Claim Types</span></span>](http://msdn.microsoft.com/library/9d35e4bc-7b72-49d1-b723-5464eee6be2c%28Office.15%29.aspx)
    

