---
title: Exchange での EWS 調整
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: b4fff4c9-c625-4d2a-9d14-bb28a5da5baf
description: Exchange を使用しているときに EWS に影響を与える調整ポリシーについて説明します。
ms.openlocfilehash: e7966f67753b3998235e000a022e41c90fa227b8
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2018
ms.locfileid: "19758945"
---
# <a name="ews-throttling-in-exchange"></a><span data-ttu-id="50eae-103">Exchange での EWS 調整</span><span class="sxs-lookup"><span data-stu-id="50eae-103">EWS throttling in Exchange</span></span>

<span data-ttu-id="50eae-104">Exchange を使用しているときに EWS に影響を与える調整ポリシーについて説明します。</span><span class="sxs-lookup"><span data-stu-id="50eae-104">Learn about the throttling policies that affect EWS when you are using Exchange.</span></span>
  
<span data-ttu-id="50eae-105">**によって提供される:** 拡張されます。マイケル ・ Mainer、米国 Microsoft Corporation</span><span class="sxs-lookup"><span data-stu-id="50eae-105">**Provided by:** Glen Scales; Michael Mainer, Microsoft Corporation</span></span> 
  
<span data-ttu-id="50eae-p101">この記事は、Exchange Online、Office 365 の一部としての Exchange Online、Exchange 2010 以降のオンプレミス バージョンの Exchange の EWS の調整に関する情報を提供します。Exchange の調整は、1 人のユーザーまたは 1 つのアプリケーションが使用できるサーバー リソースの量を制限して、サーバーの信頼性と稼働時間を確保するのに役立ちます。調整は、サービスの信頼性と機能に影響を与える可能性があるシステム リソースの過剰使用への事後対応です。Exchange は常に、メールボックス データベースなどの重要なインフラストラクチャ リソースの稼働状態を監視します。これらのリソースのパフォーマンスを低下させる高負荷の要因が検出された場合、EWS の接続は、各呼び出し元がこの高負荷状態に関与する量に比例して調整されます。結果として、あるユーザーが調整制限内に収まっていても、リソースの稼働状態が運用レベルに戻るまで、パフォーマンス低下が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-p101">The article provides information about EWS throttling in Exchange Online, Exchange Online as part of Office 365, and on-premises versions of Exchange starting with Exchange 2010. Throttling in Exchange helps to ensure server reliability and uptime by limiting the amount of server resources that a single user or application can consume. Throttling is a reactive response to overuse of system resources that may affect service reliability and functionality. Exchange constantly monitors the health of critical infrastructure resources, such as mailbox databases. When high load factors are detected that degrade the performance of these resources, EWS connections are throttled proportionally based on the amount that each caller has contributed to this high load condition. The result is that a user may be within their throttling limit and still experience slowdowns until the health of the resource is back to operational levels.</span></span>
  
<span data-ttu-id="50eae-p102">EWS を含む、Exchange のクライアント アクセス プロトコルには、それぞれ調整ポリシーがあります。EWS を使用するアプリケーションを設計するときに、アプリケーションの信頼性と Exchange サーバーの正常性を確保できるように、調整ポリシーについて考慮することは重要です。この記事では、Exchange Online と Exchange Server 2010 以降のバージョンの Exchange On-Premises のどちらを対象としているかを問わず、EWS の様々な調整ポリシーやサービスの制限を示します。必要に応じて、この記事では様々なバージョンごとの Exchange の調整ポリシーの違いも示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-p102">Each client access protocol in Exchange, including EWS, has a throttling policy. When you design applications that use EWS, it is important to account for throttling policies, to help ensure application reliability and the health of your Exchange server. This article identifies the different throttling policies and service limits for EWS, whether you are targeting Exchange Online or versions of Exchange on-premises starting with Exchange Server 2010. As applicable, this article also identifies differences in throttling policies in different versions of Exchange.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="50eae-p103">既定の調整ポリシー、調整ポリシーへのアクセス、調整ポリシーの構成は、Exchange Online と Exchange On-Premises で異なります。特定の調整設定の値は、Exchange の特定のバージョンにのみ該当します。設定値はバージョン間で異なり、オンプレミスの展開では Exchange の管理者が既定の調整ポリシーを変更できるため、この記事では既定の設定値を示しません。より重要なのは、調整の制限内で機能し、調整のシナリオに合わせて適切に対応するアプリケーションを設計するための考慮事項に注意することです。</span><span class="sxs-lookup"><span data-stu-id="50eae-p103">Default throttling policy, access to throttling policy, and throttling policy configuration differs between Exchange Online and Exchange on-premises. Specific throttling setting values are only accurate for a specific version of Exchange. Because setting values vary across versions, and because Exchange administrators can change the default throttling policies for on-premises deployments, this article does not provide the default setting values. It is more important for you to be aware of the considerations for designing an application that functions within throttling limits and reacts appropriately to throttling scenarios.</span></span> 
  
<span data-ttu-id="50eae-p104">アプリケーション開発者は、調整をアプリケーションの設計に組み込む必要があります。EWS の調整パラメーターの既定値は Exchange のバージョンごとに異なります。さまざまなバージョンの Exchange にアクセスするよう設計されたクライアントとサービス アプリケーションでは、それらの設定を考慮に入れる必要があります。これは、既定値、Exchange の管理者が設定したカスタム値、あるいは (Exchange Online の場合なら) 既定で設定されて検出できない値のいずれであっても当てはまります。調整パラメーターの値はプログラムで検出できないため、起こり得るさまざまな調整の制限にアプリケーションが適合できるよう、計画をクライアントの設計仕様に組み込む必要があります。多数のメールボックスにアクセスするマルチスレッド アプリケーションを設計するとき、または多数のクライアントが同じメールボックスにアクセスするときは、既定のポリシーによって Exchange に適用される同時実行の制限をご検討ください。 </span><span class="sxs-lookup"><span data-stu-id="50eae-p104">If you are an application developer, you need to factor throttling into your application design. Different versions of Exchange have different default values for the EWS throttling parameters. Client and service applications that are designed to access different versions of Exchange will need to account for these settings, whether they be default values, custom values set by an Exchange administrator, or, as for Exchange Online, set by default and not discoverable. Because throttling parameter values cannot be discovered programmatically, your client design specifications should include a plan for the application to adapt to different potential throttling limits. When you design multithreaded applications that will access a large number of mailboxes, or when many clients are accessing the same mailbox, consider the limits on concurrency that the default policy applies to Exchange.</span></span> 
  
## <a name="throttling-policies-that-affect-ews"></a><span data-ttu-id="50eae-125">EWS に影響を与える調整ポリシー</span><span class="sxs-lookup"><span data-stu-id="50eae-125">Throttling policies that affect EWS</span></span>
<span data-ttu-id="50eae-126"><a name="bk_PolicyParameters"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-126"></span></span>

<span data-ttu-id="50eae-127">Exchange の調整ポリシーは、EWS だけでなく、Office Outlook、Outlook Web App、Exchange ActiveSync によって使用されるプロトコルを含む、Exchange サーバーへのすべてのクライアント接続にも影響します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-127">The throttling polices in Exchange affect not only EWS, but also all client connections to the Exchange server, including the protocols used by Office Outlook, Outlook Web App, and Exchange ActiveSync.</span></span> 
  
<span data-ttu-id="50eae-128">ポリシーを調整する**CPUStartPercent**は、Exchange 2010 を実行している場合、EWS のパフォーマンスを影響します。</span><span class="sxs-lookup"><span data-stu-id="50eae-128">The **CPUStartPercent** throttling policy can affect EWS performance when you are running Exchange 2010.</span></span> <span data-ttu-id="50eae-129">Exchange の平均 CPU 使用率がクライアント アクセス サーバー上で実行を処理する場合-に限らず、EWS のプロセスを含む-このポリシーによって指定された値を超える場合、CPU 使用率を減らすために受信要求は遅れます。</span><span class="sxs-lookup"><span data-stu-id="50eae-129">When the average CPU utilization of Exchange processes running on the Client Access server — including, but not limited to, the EWS process — exceeds the value specified by this policy, inbound requests will be delayed to reduce CPU utilization.</span></span> <span data-ttu-id="50eae-130">このポリシーの値を変更することはできませんが、パフォーマンスの問題のトラブルシューティングに役立ちますのです。</span><span class="sxs-lookup"><span data-stu-id="50eae-130">You cannot change the value of this policy, but knowing about it can help you troubleshoot performance issues.</span></span> <span data-ttu-id="50eae-131">サンプリング ロジックをクライアント アクセス サーバーがこの値に対して実行は、10 秒間のローリング ウィンドウ上での平均です。</span><span class="sxs-lookup"><span data-stu-id="50eae-131">The sampling logic the Client Access server performs for this value is an average over a 10 second rolling window.</span></span> <span data-ttu-id="50eae-132">これにより、CPU 使用率のスパイクを迅速に適切に応答するプロセスです。</span><span class="sxs-lookup"><span data-stu-id="50eae-132">This allows the process to respond appropriately to quick spikes in CPU utilization.</span></span> <span data-ttu-id="50eae-133">このしきい値を超えた場合、EWS への着信接続が遅延します。</span><span class="sxs-lookup"><span data-stu-id="50eae-133">When this threshold is exceeded, inbound connections to EWS are delayed.</span></span> <span data-ttu-id="50eae-134">EWS 要求ごとには、理論上 100 %cpu 使用率で、500 ミリ秒 (ミリ秒) にこの遅延が上限です。</span><span class="sxs-lookup"><span data-stu-id="50eae-134">This delay is capped at 500 milliseconds (msecs) at a theoretical 100% CPU usage per EWS request.</span></span> <span data-ttu-id="50eae-135">100 項目を取得するバッチ EWS 要求が渡されると、サーバーは CPU 使用率が 100 回 (1 回あたりの項目) を確認 50 秒の最大遅延時間です。</span><span class="sxs-lookup"><span data-stu-id="50eae-135">If a batch EWS request to get 100 items is passed, the server will check the CPU usage 100 times (once per item) for a maximum delay of 50 seconds.</span></span> <span data-ttu-id="50eae-136">遅延時間は、CPU 使用率には直線的に比例します。</span><span class="sxs-lookup"><span data-stu-id="50eae-136">The delay time is linearly proportional to CPU usage.</span></span> <span data-ttu-id="50eae-137">**CPUStartPercent**遅延は 0 (スレッドの yield) と、500 まで直線的に増加 CPU 使用率が 100% にミリ秒を超えています。</span><span class="sxs-lookup"><span data-stu-id="50eae-137">At **CPUStartPercent**, the delay is 0 (a thread yield) and it increases linearly up to 500 msec at 100% CPU usage.</span></span> <span data-ttu-id="50eae-138">スロットルのポリシーは、すべての Exchange ユーザーに適用するためには可能性のある CPU 使用率は、 **CPUStartPercent**に対する制限を超えた Exchange クライアント アクセス サーバーでは、個々 のユーザーやアプリケーションに影響を与えるための十分な CPU の使用率を取得できないためサーバー操作です。</span><span class="sxs-lookup"><span data-stu-id="50eae-138">Because throttling policies apply to all Exchange users, it's unlikely that CPU usage would exceed the **CPUStartPercent** limit on an Exchange Client Access server, because individual users or applications cannot gain enough CPU utilization to affect server operation.</span></span> 
  
<span data-ttu-id="50eae-139">次の表は、EWS を使用するアプリケーションに影響を与える調整ポリシー パラメーターをまとめています。</span><span class="sxs-lookup"><span data-stu-id="50eae-139">The following table lists the throttling policy parameters that affect applications that use EWS.</span></span>
  
<span data-ttu-id="50eae-140">**表 1: EWS に影響を与えるポリシーのパラメーターを調整します。**</span><span class="sxs-lookup"><span data-stu-id="50eae-140">**Table 1: Throttling policy parameters that affect EWS**</span></span>

|<span data-ttu-id="50eae-141">**スロットルのポリシー パラメーターの名前**</span><span class="sxs-lookup"><span data-stu-id="50eae-141">**Throttling policy parameter name**</span></span>|<span data-ttu-id="50eae-142">**適用されます。**</span><span class="sxs-lookup"><span data-stu-id="50eae-142">**Applies to**</span></span>|<span data-ttu-id="50eae-143">**説明**</span><span class="sxs-lookup"><span data-stu-id="50eae-143">**Description**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="50eae-144">**DiscoveryMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="50eae-144">**DiscoveryMaxConcurrency**</span></span> <br/> |<span data-ttu-id="50eae-145">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-145">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-146">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-146">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-147">ユーザーが同時に接続できる同時探索検索の数を指定します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-147">Specifies the number of concurrent discovery search connections that a user can have at the same time.</span></span>  <br/> |
|<span data-ttu-id="50eae-148">**DiscoveryMaxKeywords**</span><span class="sxs-lookup"><span data-stu-id="50eae-148">**DiscoveryMaxKeywords**</span></span> <br/> |<span data-ttu-id="50eae-149">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-149">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-150">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-150">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-151">ユーザーが探索検索に含めることができるキーワードの最大数を指定します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-151">Specifies the maximum number of keywords that a user can include in a discovery search.</span></span>  <br/> |
|<span data-ttu-id="50eae-152">**DiscoveryMaxKeywordsPerPage**</span><span class="sxs-lookup"><span data-stu-id="50eae-152">**DiscoveryMaxKeywordsPerPage**</span></span> <br/> |<span data-ttu-id="50eae-153">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-153">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-154">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-154">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-155">統計情報を表示するキーワードの数を指定します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-155">Specifies the number of keywords for which to show statistics.</span></span>  <br/> |
|<span data-ttu-id="50eae-156">**DiscoveryMaxMailboxes**</span><span class="sxs-lookup"><span data-stu-id="50eae-156">**DiscoveryMaxMailboxes**</span></span> <br/> |<span data-ttu-id="50eae-157">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-157">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-158">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-158">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-159">ユーザーが探索検索に含めることができるソース メールボックスの最大数を指定します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-159">Specifies the maximum number of source mailboxes that a user can include in a discovery search.</span></span>  <br/> |
|<span data-ttu-id="50eae-160">**DiscoveryMaxMailboxesResultsOnly**</span><span class="sxs-lookup"><span data-stu-id="50eae-160">**DiscoveryMaxMailboxesResultsOnly**</span></span> <br/> |<span data-ttu-id="50eae-161">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-161">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-162">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-162">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-163">インプレース電子情報開示検索において検索可能 (統計情報の表示は不可) なメールボックスの最大数を指定します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-163">Specifies the maximum number of mailboxes you can search in an In-Place eDiscovery search without being able to view the statistics.</span></span>  <br/> |
|<span data-ttu-id="50eae-164">**DiscoveryPreviewSearchResultsPageSize**</span><span class="sxs-lookup"><span data-stu-id="50eae-164">**DiscoveryPreviewSearchResultsPageSize**</span></span> <br/> |<span data-ttu-id="50eae-165">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-165">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-166">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-166">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-167">電子情報開示検索のプレビューの応答で返されるメッセージの数を指定します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-167">Specifies the number of messages returned in a eDiscovery search preview response.</span></span>  <br/> |
|<span data-ttu-id="50eae-168">**EwsCutoffBalance**</span><span class="sxs-lookup"><span data-stu-id="50eae-168">**EwsCutoffBalance**</span></span> <br/> |<span data-ttu-id="50eae-169">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-169">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-170">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-170">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-171">EWS ユーザーのリソース消費制限を定義し、これを超えたら特定のコンポーネントの操作を実行できないよう、ユーザーを完全にブロックするようにします。 </span><span class="sxs-lookup"><span data-stu-id="50eae-171">Defines the resource consumption limits for EWS user before that user is completely blocked from performing operations on a specific component.</span></span>  <br/> |
|<span data-ttu-id="50eae-172">**EwsMaxBurst**</span><span class="sxs-lookup"><span data-stu-id="50eae-172">**EwsMaxBurst**</span></span> <br/> |<span data-ttu-id="50eae-173">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-173">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-174">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-174">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-p106">増加したリソースを EWS ユーザーが消費できる時間の長さを定義し、これを超えたら調整を行うようにします。これは、ミリ秒単位で測定されます。この値は、コンポーネントごとに個別に設定されます。 </span><span class="sxs-lookup"><span data-stu-id="50eae-p106">Defines the amount of time that an EWS user can consume an elevated amount of resources before being throttled. This is measured in milliseconds. This value is set separately for each component.</span></span>  <br/> |
|<span data-ttu-id="50eae-178">**EwsRechargeRate**</span><span class="sxs-lookup"><span data-stu-id="50eae-178">**EwsRechargeRate**</span></span> <br/> |<span data-ttu-id="50eae-179">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-179">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-180">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-180">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-181">予算時間中に EWS ユーザーの予算を回復する速度 (予算の増加単位) を定義します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-181">Defines the rate at which an EWS user's budget is recharged (budget grows by) during the budget time.</span></span>  <br/> |
|<span data-ttu-id="50eae-182">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="50eae-182">**EWSMaxSubscriptions**</span></span> <br/> |<span data-ttu-id="50eae-183">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-183">Exchange 2010</span></span>  <br/> <span data-ttu-id="50eae-184">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-184">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-185">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-185">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-p107">ユーザーが特定のクライアント アクセス サーバーに対して同時に保持できるアクティブなプッシュ、プル、ストリーミング通知のサブスクリプションの最大数を定義します。この予算は Exchange のバージョンごとに異なります。 </span><span class="sxs-lookup"><span data-stu-id="50eae-p107">Defines the maximum number of active push, pull, and streaming notification subscriptions that a user can have on a specific Client Access server at one time. This is budgeted differently for different Exchange versions.</span></span>  <br/> |
|<span data-ttu-id="50eae-188">**EWSFastSearchTimeoutInSeconds**</span><span class="sxs-lookup"><span data-stu-id="50eae-188">**EWSFastSearchTimeoutInSeconds**</span></span> <br/> |<span data-ttu-id="50eae-189">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-189">Exchange 2010</span></span>  <br/> |<span data-ttu-id="50eae-190">EWS で Exchange の検索を使用して、高速な検索が続行前に秒単位でタイムアウトの時間を定義します。[FindItem 操作](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx)で高度なクエリ構文 (AQS) のクエリ文字列を使用して検索を高速な検索には。</span><span class="sxs-lookup"><span data-stu-id="50eae-190">Defines the amount of time in seconds that fast searches made by using Exchange Search in EWS continue before they time out. Fast searches are searches made by using an Advanced Query Syntax (AQS) query string in a [FindItem operation](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span></span>  <br/> |
|<span data-ttu-id="50eae-191">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="50eae-191">**EWSFindCountLimit**</span></span> <br/> |<span data-ttu-id="50eae-192">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-192">Exchange 2010</span></span>  <br/> <span data-ttu-id="50eae-193">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-193">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-194">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-194">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-195">一度に 1 人のユーザーのクライアント アクセス サーバー上のメモリ内の[FindItem 操作](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx)またはことができます[FindFolder 操作](http://msdn.microsoft.com/library/7a9855aa-06cc-45ba-ad2a-645c15b7d031%28Office.15%29.aspx)の項目の最大数を定義します。</span><span class="sxs-lookup"><span data-stu-id="50eae-195">Defines the maximum number of items from a [FindItem operation](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx) or [FindFolder operation](http://msdn.microsoft.com/library/7a9855aa-06cc-45ba-ad2a-645c15b7d031%28Office.15%29.aspx) that can exist in memory on the Client Access server at one time for one user.</span></span> <span data-ttu-id="50eae-196">このプロパティの既定値は 1000 です。</span><span class="sxs-lookup"><span data-stu-id="50eae-196">The default value for this property is 1000.</span></span> <span data-ttu-id="50eae-197">[フォールバック値](http://technet.microsoft.com/en-us/library/dd297964%28v=exchg.141%29.aspx#fallback)この値は 1000 です。</span><span class="sxs-lookup"><span data-stu-id="50eae-197">The [fallback value](http://technet.microsoft.com/en-us/library/dd297964%28v=exchg.141%29.aspx#fallback)for this value is 1000.</span></span>  <br/> <span data-ttu-id="50eae-198">Exchange オンラインと設置型のバージョンの Exchange が Exchange 2013 で始まるが、このスロットルのポリシーを照会やコマンドレットによって構成されていることはできません。</span><span class="sxs-lookup"><span data-stu-id="50eae-198">In Exchange Online and on-premises versions of Exchange starting with Exchange 2013, this throttling policy cannot be queried or configured by a cmdlet.</span></span> <span data-ttu-id="50eae-199">Exchange Online および設置型バージョンの Exchange が Exchange 2013、 [AQS の検索](how-to-perform-an-aqs-search-by-using-ews-in-exchange.md)のための EWSFindCountLimit、任意の交換を開始、制限付きの検索は 250 の結果です。</span><span class="sxs-lookup"><span data-stu-id="50eae-199">In Exchange Online and on-premises versions of Exchange starting with Exchange 2013, the EWSFindCountLimit for [AQS search](how-to-perform-an-aqs-search-by-using-ews-in-exchange.md) and any Exchange search with a restriction is 250 results.</span></span> <span data-ttu-id="50eae-200">最高 1000 の結果を制限せず、Exchange 検索に戻ります。</span><span class="sxs-lookup"><span data-stu-id="50eae-200">An Exchange search without a restriction will return up to 1000 results.</span></span>  <br/> |
|<span data-ttu-id="50eae-201">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="50eae-201">**EWSPercentTimeInAD**</span></span> <br/> |<span data-ttu-id="50eae-202">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-202">Exchange 2010</span></span>  <br/> |<span data-ttu-id="50eae-203">特定のユーザーが Active Directory の要求を実行できる時間が 1 分間のうちに占める割合を定義します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-203">Defines the percentage of time per minute during which a specific user can execute Active Directory requests.</span></span>  <br/> |
|<span data-ttu-id="50eae-204">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="50eae-204">**EWSPercentTimeInCAS**</span></span> <br/> |<span data-ttu-id="50eae-205">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-205">Exchange 2010</span></span>  <br/> |<span data-ttu-id="50eae-206">特定のユーザーがクライアント アクセス サーバーのコードを実行できる時間が 1 分間のうちに占める割合を定義します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-206">Defines the percentage of time per minute during which a specific user can execute Client Access server code.</span></span>  <br/> |
|<span data-ttu-id="50eae-207">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="50eae-207">**EWSPercentTimeInMailboxRPC**</span></span> <br/> |<span data-ttu-id="50eae-208">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-208">Exchange 2010</span></span>  <br/> |<span data-ttu-id="50eae-209">特定のユーザーがメールボックス RPC の要求を実行できる時間が 1 分間のうちに占める割合を定義します。</span><span class="sxs-lookup"><span data-stu-id="50eae-209">Defines the percentage of time per minute during which a specific user can execute mailbox RPC requests</span></span>  <br/> |
|<span data-ttu-id="50eae-210">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="50eae-210">**EWSMaxConcurrency**</span></span> <br/> |<span data-ttu-id="50eae-211">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-211">Exchange 2010</span></span>  <br/> <span data-ttu-id="50eae-212">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-212">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-213">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-213">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-p110">EWS を使用している Exchange サーバーに対して特定のユーザーが同時に並列で開くことができる接続の数を定義します。Exchange 2010 の既定値は 10 です。Exchange 2013 および Exchange Online の既定値は 27 です。 </span><span class="sxs-lookup"><span data-stu-id="50eae-p110">Defines the number of concurrent open connections that a specific user can have against an Exchange server that is using EWS at one time. The default value for Exchange 2010 is 10. The default value for Exchange 2013 and Exchange Online is 27.  </span></span><br/> <span data-ttu-id="50eae-217">通知のストリーミング以外のすべての操作に、このポリシーが適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-217">This policy applies to all operations except for streaming notifications.</span></span> <span data-ttu-id="50eae-218">ストリーミングの通知では、開いているストリーミング イベント利用可能な接続の数を示すために**HangingConnectionLimit**を使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-218">Streaming notifications use the **HangingConnectionLimit** to indicate the number of open streaming event connections that are available.</span></span> <span data-ttu-id="50eae-219">詳細についてを参照してください[考慮に入れるにはスロットル値が必要ですか?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling)です。</span><span class="sxs-lookup"><span data-stu-id="50eae-219">For more information, see [What throttling values do I need to take into consideration?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</span></span>  <br/> |
|<span data-ttu-id="50eae-220">**MessageRateLimit**</span><span class="sxs-lookup"><span data-stu-id="50eae-220">**MessageRateLimit**</span></span> <br/> |<span data-ttu-id="50eae-221">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-221">Exchange 2010</span></span>  <br/> <span data-ttu-id="50eae-222">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-222">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-223">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-223">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-224">送信可能な 1 分あたりのメッセージ数を定義します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-224">Defines the number of messages per minute that can be submitted.</span></span>  <br/> |
|<span data-ttu-id="50eae-225">**RecipientRateLimit**</span><span class="sxs-lookup"><span data-stu-id="50eae-225">**RecipientRateLimit**</span></span> <br/> |<span data-ttu-id="50eae-226">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-226">Exchange 2010</span></span>  <br/> <span data-ttu-id="50eae-227">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-227">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-228">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-228">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-229">24 時間中にユーザーが宛先として指定できる受信者数の制限を定義します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-229">Defines the limit to the number of recipients that a user can address in a 24-hour period.</span></span>  <br/> |
|<span data-ttu-id="50eae-230">**ForwardeeLimit**</span><span class="sxs-lookup"><span data-stu-id="50eae-230">**ForwardeeLimit**</span></span> <br/> |<span data-ttu-id="50eae-231">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-231">Exchange 2010</span></span>  <br/> <span data-ttu-id="50eae-232">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-232">Exchange 2013</span></span>  <br/> <span data-ttu-id="50eae-233">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-233">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-234">24 時間中に受信トレイの転送またはリダイレクト操作の対象にできる受信者数の制限を定義します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-234">Defines the limit to the number of recipients for Inbox forward/redirect actions in a 24-hour period.</span></span>  <br/> |
   
> [!CAUTION]
> <span data-ttu-id="50eae-235">設定しない**null**にポリシーを調整します。</span><span class="sxs-lookup"><span data-stu-id="50eae-235">Do not set throttling polices to **null**.</span></span> <span data-ttu-id="50eae-236">これにより、スロットルのポリシーが設定されていないことを示す数を無制限に、ポリシーが設定されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-236">This will set the policy to equal unlimited, which indicates that a throttling policy isn't set.</span></span> 
  
## <a name="displaying-the-policies-that-apply-to-exchange-mailboxes"></a><span data-ttu-id="50eae-237">Exchange のメールボックスに適用するポリシーを表示する</span><span class="sxs-lookup"><span data-stu-id="50eae-237">Displaying the policies that apply to Exchange mailboxes</span></span>
<span data-ttu-id="50eae-238"><a name="bk_PolicyCmdlets"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-238"></span></span>

<span data-ttu-id="50eae-p113">Exchange On-Premises には、調整ポリシーを設定および取得するために使用できる Exchange 管理シェル コマンドレットが用意されています。Exchange Online は、調整ポリシーのコマンドレットを利用できません。</span><span class="sxs-lookup"><span data-stu-id="50eae-p113">Exchange on-premises provides Exchange Management Shell cmdlets that you can use to set and get throttling policy. Exchange Online does not provide access to the throttling policy cmdlets.</span></span>
  
<span data-ttu-id="50eae-241">次のコマンドレットを使用して、オンプレミスの Exchange Server の展開の調整ポリシーを表示できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-241">You can use the following cmdlets to display throttling polices for an on-premises Exchange Server deployment:</span></span>
  
- <span data-ttu-id="50eae-242">**Get ThrottlingPolicy** -調整の設定を 1 つまたは複数のクライアント調整ポリシーを取得します。</span><span class="sxs-lookup"><span data-stu-id="50eae-242">**Get-ThrottlingPolicy** — Gets the client throttling settings for one or more throttling policies.</span></span> <span data-ttu-id="50eae-243">詳細については、TechNet の[Get ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351264.aspx)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-243">For more information, see [Get-ThrottlingPolicy ](http://technet.microsoft.com/en-us/library/dd351264.aspx) on TechNet.</span></span> 
    
- <span data-ttu-id="50eae-244">**Get ThrottlingPolicyAssociation** -オブジェクトとの関連付けられた調整ポリシーとの間の関係を表示できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-244">**Get-ThrottlingPolicyAssociation** — Enables you to view the relationship between an object and its associated throttling policies.</span></span> <span data-ttu-id="50eae-245">オブジェクトには、メールボックスを持つユーザー、メールボックス、または取引先担当者にユーザーができます。</span><span class="sxs-lookup"><span data-stu-id="50eae-245">The object can be a user with a mailbox, a user without a mailbox, or a contact.</span></span> <span data-ttu-id="50eae-246">詳細については、TechNet の「 [Get ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459241.aspx)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-246">For more information, see [Get-ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459241.aspx) on TechNet.</span></span> 
    
<span data-ttu-id="50eae-247">Exchange 2010 の既定の調整ポリシーを表示するには、次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-247">Use the following command to show the default throttling policy for Exchange 2010.</span></span>
  
<span data-ttu-id="50eae-248">**Get ThrottlingPolicy |Where-object {$_ です。IsDefault - eq"True"} |形式リスト**</span><span class="sxs-lookup"><span data-stu-id="50eae-248">**Get-ThrottlingPolicy | Where-Object {$_.IsDefault -eq "True"} | format-list**</span></span>
  
<span data-ttu-id="50eae-249">Exchange 2013 のグローバル調整ポリシー (Exchange 2010 の既定の調整ポリシーに等しい) を表示するには、次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-249">Use the following command to show the global throttling policy (which equates to the default throttling policy in Exchange 2010) in Exchange 2013.</span></span>
  
<span data-ttu-id="50eae-250">**Get ThrottlingPolicy |Where-object {$_ です。ThrottlingPolicyScope - eq「グローバル」} |形式リスト**</span><span class="sxs-lookup"><span data-stu-id="50eae-250">**Get-ThrottlingPolicy | Where-Object {$_.ThrottlingPolicyScope -eq "Global"} | format-list**</span></span>
  
<span data-ttu-id="50eae-p116">Exchange 2010 または Exchange 2013 のユーザーに関連付けられた調整ポリシーを表示するには、次のコマンドを使用します。ユーザー名 john@contoso.com を、調整ポリシー情報を取得する対象ユーザーのユーザー名で置き換えます。</span><span class="sxs-lookup"><span data-stu-id="50eae-p116">Use the following command to show the throttling policy associated with a user in Exchange 2010 or Exchange 2013. Replace the user name john@contoso.com with the user name of the target user for whom you want to get throttling policy information.</span></span>
  
<span data-ttu-id="50eae-253">**Get ThrottlingPolicyAssociation john@contoso.com |形式リスト**</span><span class="sxs-lookup"><span data-stu-id="50eae-253">**Get-ThrottlingPolicyAssociation john@contoso.com | format-list**</span></span>
  
<span data-ttu-id="50eae-254">Exchange 管理シェルでこのコマンドを実行すると、次のような出力が生成されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-254">Running this command in Exchange Management Shell results in an output similar to the following.</span></span>
  
```powershell
PS C:\>Get-ThrottlingPolicyAssociation john@contoso.com
RunspaceId               : 72153d6-9dce-2fae-8dbd-5ca5f760g2df
ObjectId                 : john
ThrottlingPolicyId       :
Name                     : john
Identity                 : FHXB-28178dom.contoso.com/Users/john
IsValid                  : True
NeedsToSuppressPii       : False
ExchangeVersion          : 0.10 (15.0.0.0)
DistinguishedName        : CN=john,CN=Users,DC=FHXB-28178dom,DC=contoso,DC=com
Guid                     : 2c10dab6-de28-1937-ad8g-535832613a08
```

> [!NOTE]
> <span data-ttu-id="50eae-255">**ThrottlingPolicyId**プロパティが空の場合は、既定のポリシーがメールボックスに適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-255">When the **ThrottlingPolicyId** property is blank, the default policy is applied to the mailbox.</span></span> 
  
<span data-ttu-id="50eae-256">[セット ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd298094.aspx)と[セット ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459231.aspx)コマンドレットを使用して Exchange サーバー上のポリシーを調整を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="50eae-256">You can set throttling policy on an Exchange server by using the [Set-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd298094.aspx) and [Set-ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459231.aspx) cmdlets.</span></span> <span data-ttu-id="50eae-257">作成し、削除以外の[新規 ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351045.aspx)と[削除 ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351178.aspx)コマンドレットを使用してポリシーを調整できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-257">You can create and remove nondefault throttling policies by using the [New-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351045.aspx) and [Remove-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351178.aspx) cmdlets.</span></span> 
  
> [!TIP]
> <span data-ttu-id="50eae-p118">既定の調整ポリシーに従うようにアプリケーションを設計することをお勧めします。クライアント アプリケーションの設計が既定のポリシーに対応できない場合にのみ、既定の調整ポリシーに変更を加えてください。制限の少ない調整ポリシーは、サービスの信頼性に悪影響を及ぼす可能性があることにご注意ください。</span><span class="sxs-lookup"><span data-stu-id="50eae-p118">We recommend that you design your applications to adhere to the default throttling policy. Only make changes to default throttling policies if your client application design cannot accommodate the default policy. Be aware that less restrictive throttling policies can negatively affect service reliability.</span></span> 
  
## <a name="throttling-considerations-for-applications-that-use-ews-impersonation"></a><span data-ttu-id="50eae-261">EWS の偽装を使用するアプリケーションの調整の考慮事項</span><span class="sxs-lookup"><span data-stu-id="50eae-261">Throttling considerations for applications that use EWS impersonation</span></span>
<span data-ttu-id="50eae-262"><a name="bk_ThrottlingConsiderations"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-262"></span></span>

<span data-ttu-id="50eae-263">[偽装](impersonation-and-ews-in-exchange.md)は、多数のアカウントにアクセスする 1 つのアカウントを有効にする認証方法です。</span><span class="sxs-lookup"><span data-stu-id="50eae-263">[Impersonation](impersonation-and-ews-in-exchange.md) is an authorization method that enables a single account to access many accounts.</span></span> <span data-ttu-id="50eae-264">サービス アカウントは、ユーザーを偽装するときにユーザーとして動作し、したがってそれらのユーザーに割り当てられている権限を想定しています。</span><span class="sxs-lookup"><span data-stu-id="50eae-264">When a service account impersonates users, it acts as the users and therefore assumes the rights that are assigned to those users.</span></span> <span data-ttu-id="50eae-265">ログ ファイルでは、偽装されたユーザーとしてのアクセスを記録します。</span><span class="sxs-lookup"><span data-stu-id="50eae-265">Log files record the access as the impersonated user.</span></span> <span data-ttu-id="50eae-266">管理者は、Exchange 管理シェルを使用して偽装を構成するのには、役割ベースのアクセス制御 (RBAC) を使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-266">Administrators use role-based access control (RBAC) to configure impersonation via the Exchange Management Shell.</span></span> 
  
<span data-ttu-id="50eae-p120">偽装を使用すると、調整のしきい値すべての予算は Exchange のバージョンごとに異なって適用されます。予算の計算は、偽装される側のアカウントか、サービス アカウントのいずれかに対して行われます。アプリケーションがマルチスレッド化され、複数のメールボックスに対して同時要求を行う場合は、調整のしきい値がアプリケーションのパフォーマンスに与える影響をご考慮ください。一般に、偽装ですべてのメールボックスにアクセスするサービス ベースのアプリケーションを作成するときには、サービス アカウントの次の制限にご注意ください。 </span><span class="sxs-lookup"><span data-stu-id="50eae-p120">When impersonation is used, the budgets for all the throttling thresholds apply differently depending on the version of Exchange. The budget is either calculated against the account that is impersonated, or the service account. If your application is multithreaded and makes concurrent requests against multiple mailboxes, you should consider how the throttling threshold will affect your application's performance. In general, be aware of the following limits on service accounts when you create a service-based application that uses impersonation to access all mailboxes:</span></span> 
  
- <span data-ttu-id="50eae-271">偽装を使用する場合、サービス アカウントは、次のポリシー パラメーターに関して別個の予算を持ちます。</span><span class="sxs-lookup"><span data-stu-id="50eae-271">When you use Impersonation, the service account has a separate budget for the following policy parameters:</span></span>
    
  - <span data-ttu-id="50eae-272">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="50eae-272">**EWSMaxConcurrency**</span></span>
    
  - <span data-ttu-id="50eae-273">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="50eae-273">**EWSPercentTimeInAD**</span></span>
    
  - <span data-ttu-id="50eae-274">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="50eae-274">**EWSPercentTimeInCAS**</span></span>
    
  - <span data-ttu-id="50eae-275">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="50eae-275">**EWSPercentTimeInMailboxRPC**</span></span>
    
  - <span data-ttu-id="50eae-276">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="50eae-276">**EWSMaxSubscriptions**</span></span>
    
  - <span data-ttu-id="50eae-277">**EWSFastSearchTimeoutInSeconds**</span><span class="sxs-lookup"><span data-stu-id="50eae-277">**EWSFastSearchTimeoutInSeconds**</span></span>
    
  - <span data-ttu-id="50eae-278">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="50eae-278">**EWSFindCountLimit**</span></span>
    
- <span data-ttu-id="50eae-279">**EWSMaxConcurrency**予算は、サービス アカウントと、Exchange 2010 Service Pack 2 (SP2) の更新プログラムのロールアップ 4 (RU4) より前のバージョンの Exchange への接続すべてに偽装されているアカウントに共有されています。</span><span class="sxs-lookup"><span data-stu-id="50eae-279">The **EWSMaxConcurrency** budget is shared for the service account and the account being impersonated for all connections to versions of Exchange earlier than Exchange 2010 Service Pack 2 (SP2) Update Rollup 4 (RU4).</span></span> <span data-ttu-id="50eae-280">Exchange 2010 SP2 の RU4 を開始して、Exchange Online を含め、サービス アカウントのアクセスは、ユーザー **EWSMaxConcurrency**の予算からの個別の予算を使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-280">Starting with Exchange 2010 SP2 RU4, and including Exchange Online, the service account access uses a separate budget from the user **EWSMaxConcurrency** budget.</span></span> <span data-ttu-id="50eae-281">EWS の同時接続のスロットルのポリシーの [Exchange の更新の詳細については、[説明の更新プログラムのロールアップ 4 については、Exchange Server 2010 のサービス パック 2](http://support.microsoft.com/kb/2706690)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-281">For more information about the update to the Exchange concurrent connection throttling policy for EWS, see [Description of Update Rollup 4 for Exchange Server 2010 Service Pack 2](http://support.microsoft.com/kb/2706690).</span></span>
    
    <span data-ttu-id="50eae-282">EWS のバージョンの Exchange が Exchange 2010 で始まると、Exchange Online を含む通知をストリーミングでは、他のすべての EWS クライアント接続からその他のクローン ・ **EWSMaxConcurrency**予算があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-282">EWS streaming notifications in versions of Exchange starting with Exchange 2010, and including Exchange Online, have an additional cloned **EWSMaxConcurrency** budget from all other EWS client connections.</span></span> <span data-ttu-id="50eae-283">ストリーミングの通知の接続は、他のすべての EWS の操作よりも個別の予算に対してカウントされます。</span><span class="sxs-lookup"><span data-stu-id="50eae-283">Streaming notification connections are counted against a separate budget than all other EWS operations.</span></span> <span data-ttu-id="50eae-284">ストリーミングの通知の最大同時実行予算は、実際には 2 つの異なる予算: すべてのサービス アカウントは、1 つの予算と予算は 1 つが偽装されているアカウントには。</span><span class="sxs-lookup"><span data-stu-id="50eae-284">The streaming notification maximum concurrency budget is actually two different budgets: one budget is for all service accounts, and one budget is for the account being impersonated.</span></span> <span data-ttu-id="50eae-285">通知を Exchange ストリーミング オンラインとのバージョンの Exchange が Exchange 2013 で始まるを使用して、 [HangingConnectionLimit](ews-throttling-in-exchange.md#bk_ThrottlingNotifications)の接続数を制限します。</span><span class="sxs-lookup"><span data-stu-id="50eae-285">Streaming notifications in Exchange Online and versions of Exchange starting with Exchange 2013 use the [HangingConnectionLimit](ews-throttling-in-exchange.md#bk_ThrottlingNotifications) to limit the number of connections.</span></span> 
    
    <span data-ttu-id="50eae-286">たとえば、 **EWSMaxConcurrency**が 5 に等しいと仮定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-286">For example, let's assume that **EWSMaxConcurrency** is equal to five.</span></span> <span data-ttu-id="50eae-287">ユーザーは、サービス アカウントは 5 つ同時プル通知に接続できるユーザーのメールボックスに対して、ユーザーと同時に 5 つの開いているプル通知の接続を持つことができます。</span><span class="sxs-lookup"><span data-stu-id="50eae-287">A user can have five open pull notification connections, while an service account can have five concurrent pull notification connections against the user's mailbox at the same time as the user.</span></span> 
    
- <span data-ttu-id="50eae-288">次の表は、サービス アカウントと、アカウントを偽装する**EWSMaxSubscriptions**スロットルの予算を計算する方法を識別します。</span><span class="sxs-lookup"><span data-stu-id="50eae-288">The following table identifies how **EWSMaxSubscriptions** throttling budgets are calculated between the service account and the account to impersonate.</span></span> 
    
   <span data-ttu-id="50eae-289">**表 2: EWSMaxSubscriptions 予算会計**</span><span class="sxs-lookup"><span data-stu-id="50eae-289">**Table 2: EWSMaxSubscriptions budget accounting**</span></span>

   |<span data-ttu-id="50eae-290">**Exchange のバージョン**</span><span class="sxs-lookup"><span data-stu-id="50eae-290">**Exchange version**</span></span>|<span data-ttu-id="50eae-291">**EWSMaxSubscriptions の予算勘定の調整**</span><span class="sxs-lookup"><span data-stu-id="50eae-291">**EWSMaxSubscriptions throttling budget accounting**</span></span>|
   |:-----|:-----|
   |<span data-ttu-id="50eae-292">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="50eae-292">Exchange Online</span></span>  <br/> |<span data-ttu-id="50eae-293">対象のメールボックスに対して適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-293">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="50eae-294">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="50eae-294">Exchange 2013</span></span>  <br/> |<span data-ttu-id="50eae-295">対象のメールボックスに対して適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-295">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="50eae-296">Exchange 2010 SP3</span><span class="sxs-lookup"><span data-stu-id="50eae-296">Exchange 2010 SP3</span></span>  <br/> |<span data-ttu-id="50eae-297">対象のメールボックスに対して適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-297">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="50eae-298">Exchange 2010 SP2</span><span class="sxs-lookup"><span data-stu-id="50eae-298">Exchange 2010 SP2</span></span>  <br/> |<span data-ttu-id="50eae-p124">呼び出し元のアカウントに対して適用されます。Exchange 2010 SP2 RU4 以降では、予算は対象のメールボックスに対して適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-p124">Charged against the calling account. Starting with Exchange 2010 SP2 RU4, the budget is charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="50eae-301">Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="50eae-301">Exchange 2010 SP1</span></span>  <br/> |<span data-ttu-id="50eae-302">呼び出し元のアカウントに対して適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-302">Charged against the calling account.</span></span>  <br/> |
   |<span data-ttu-id="50eae-303">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="50eae-303">Exchange 2010</span></span>  <br/> |<span data-ttu-id="50eae-304">呼び出し元のアカウントに対して適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-304">Charged against the calling account.</span></span>  <br/> |
   
- <span data-ttu-id="50eae-305">偽装されているアカウントに対して予算を調整する**EWSMaxSubscriptions**が充電されるとため、制限はありません、サービス アカウントを購読して、ストリーミングの通知を受信のメールボックスの数に限り偽装使用されています。</span><span class="sxs-lookup"><span data-stu-id="50eae-305">Because the **EWSMaxSubscriptions** throttling budget is charged against the account being impersonated, there is no limit on the number of mailboxes a service account can subscribe to and receive streaming notifications for, as long as impersonation is being used.</span></span> <span data-ttu-id="50eae-306">偽装されているアカウントにすることはできません_n_の同時実行の要求より多くの_**EWSMaxSubscriptions**値は_、ターゲット メールボックスあたりです。</span><span class="sxs-lookup"><span data-stu-id="50eae-306">For the account being impersonated, you can't have more than  _n_ concurrent requests per target mailbox, where  _n_ is the **EWSMaxSubscriptions** value.</span></span> <span data-ttu-id="50eae-307">偽装を使用していないが、同じサービス アカウントこと_n_同時実行される要求の合計より多くがないです。</span><span class="sxs-lookup"><span data-stu-id="50eae-307">If you were not using impersonation, the same service account could not have more than  _n_ concurrent requests total.</span></span> <span data-ttu-id="50eae-308">論点は、サービス アカウントの偽装を使用して、指数関数的に増加するサービスを提供できるメールボックスの数です。</span><span class="sxs-lookup"><span data-stu-id="50eae-308">So, the takeaway is that by using impersonation on a service account, you exponentially increase the number of mailboxes you can service.</span></span> <span data-ttu-id="50eae-309">詳細については、 [Exchange でのサブスクリプションのグループとメールボックス サーバー間のアフィニティを維持](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-309">For more information, see [Maintain affinity between a group of subscriptions and the Mailbox server in Exchange](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md).</span></span>
    
- <span data-ttu-id="50eae-310">**EWSPercentTimeInMailboxRPC**、 **EWSPercentTimeInCAS**、および**EWSPercentTimeInAD**のポリシーのパラメーターは、1 つのスレッドによって実行されるアクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-310">The **EWSPercentTimeInMailboxRPC**, **EWSPercentTimeInCAS**, and **EWSPercentTimeInAD** policy parameters refer to actions performed by a single thread.</span></span> <span data-ttu-id="50eae-311">アプリケーションは、複数の同時操作を実行するときは、ユーザーのリソースの予算内でこれらの操作の累積的な影響を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-311">When an application performs multiple concurrent operations, you should account for the cumulative effect of these operations on the user resource budget.</span></span> 
    
## <a name="throttling-implications-for-ews-batch-requests"></a><span data-ttu-id="50eae-312">EWS のバッチ要求の調整の影響</span><span class="sxs-lookup"><span data-stu-id="50eae-312">Throttling implications for EWS batch requests</span></span>
<span data-ttu-id="50eae-313"><a name="bk_ThrottlingBatch"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-313"></span></span>

<span data-ttu-id="50eae-314">EWS を使用すると、クライアント アクセス サーバーで実行される 1 つの要求に複数の項目の要求をバッチ処理できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-314">EWS enables you to batch multiple item requests into a single request that is executed by the Client Access server.</span></span> <span data-ttu-id="50eae-315">これにより、効率性とパフォーマンスが向上。</span><span class="sxs-lookup"><span data-stu-id="50eae-315">This allows for greater efficiency and performance.</span></span> <span data-ttu-id="50eae-316">Exchange サーバーでは、バッチ処理される要求を実行するときは、バッチ内の各項目の実行後にユーザーの予算を確認します。</span><span class="sxs-lookup"><span data-stu-id="50eae-316">When an Exchange server executes a batched request, it checks the user's budget after the execution of each item within the batch.</span></span> <span data-ttu-id="50eae-317">アプリケーションが予算オーバーの場合は、そのユーザーの予算は、再充電するまで、バッチ内の次のアイテムの処理が遅延します。</span><span class="sxs-lookup"><span data-stu-id="50eae-317">If the application is over budget, the processing of the next item in the batch is delayed until the budget for that user has recharged.</span></span> <span data-ttu-id="50eae-318">バッチ操作を使用するアプリケーションが正常に実行されることを確認するには、1 つのバッチに含めることができるし、結果の信頼性を高めるための複数の小さいバッチの間で大規模なバッチに分割項目要求の数を制限します。</span><span class="sxs-lookup"><span data-stu-id="50eae-318">To ensure that applications that use batch operations run successfully, limit the number of item requests that can be included in a single batch, and divide large batches across multiple smaller batches to increase the reliability of the results.</span></span> <span data-ttu-id="50eae-319">スロットルしきい値を特定のバッチ処理の影響は、要求の種類、項目 (たとえば、 **UploadItems**または**ExportItems**の操作) で処理して、メールボックスの内容のサイズによって異なります。</span><span class="sxs-lookup"><span data-stu-id="50eae-319">The effect that a batch operation has on particular throttling thresholds depends on the type of the request, the size of the items to be processed (for example in **UploadItems** or **ExportItems** operations) and the mailbox content.</span></span> <span data-ttu-id="50eae-320">スロットルのポリシーは、プロセスに時間がかかる要求を発生させることによって、バッチ操作を影響します。</span><span class="sxs-lookup"><span data-stu-id="50eae-320">Throttling policies affect batch operations by causing the request to take longer to process.</span></span> <span data-ttu-id="50eae-321">呼び出し元は、しばらくの間、応答の必要したがって、呼び出しがタイムアウトで EWS が 1 つ分のバッチ要求の実行時間を制限するためです。</span><span class="sxs-lookup"><span data-stu-id="50eae-321">The caller will therefore have to wait longer for the response, and, because EWS limits the execution time of a batch request to one minute, the call could time out.</span></span> 
  
<span data-ttu-id="50eae-322">アプリケーションのバッチの最適なサイズを決定するには、様々な入力セットを使用して単体テストを実行し、運用環境でアプリケーションにエラーが発生しないことを確認します。 </span><span class="sxs-lookup"><span data-stu-id="50eae-322">To determine the optimum batch size for an application, perform unit testing using various input sets to ensure that the application does not encounter any errors in a production environment.</span></span> 
  
## <a name="throttling-policy-parameters-that-affect-ews-search-operations"></a><span data-ttu-id="50eae-323">EWS の検索操作に影響を与える調整ポリシー パラメーター</span><span class="sxs-lookup"><span data-stu-id="50eae-323">Throttling policy parameters that affect EWS search operations</span></span>
<span data-ttu-id="50eae-324"><a name="bk_ThrottlingSearch"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-324"></span></span>

<span data-ttu-id="50eae-325">[EWS での検索操作](search-and-ews-in-exchange.md)では、大量の時間とリソースの検索を実行する方法と、どのような情報が必要に応じてを要求できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-325">[Search operations in EWS](search-and-ews-in-exchange.md) can require large amounts of time and resources, depending on how the search is run and what information is requested.</span></span> <span data-ttu-id="50eae-326">検索中にリソースの使用状況を制御するポリシーの 2 つのパラメーターが有効: **EWSFastSearchTimeoutInSeconds**と**EWSFindCountLimit**。</span><span class="sxs-lookup"><span data-stu-id="50eae-326">To control resource usage during searches, two policy parameters take effect: **EWSFastSearchTimeoutInSeconds** and **EWSFindCountLimit**.</span></span> 
  
<span data-ttu-id="50eae-327">**EWSFastSearchTimeoutInSeconds**ポリシーのパラメーターは、時間、その EWS の高速検索 (インデックス検索のコンテンツとも呼ばれます) を秒単位でタイムアウトする前に実行を指定します。[FindItem 操作](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx)で高度なクエリ構文 (AQS) のクエリ文字列を使用して検索を高速検索には。</span><span class="sxs-lookup"><span data-stu-id="50eae-327">The **EWSFastSearchTimeoutInSeconds** policy parameter specifies the amount of time, in seconds, that EWS fast searches (also known as content indexing search) run before they time out. A fast search is a search made by using an Advanced Query Syntax (AQS) query string in a [FindItem operation](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span></span>
  
<span data-ttu-id="50eae-328">Exchange のメールボックス フォルダーを 2 つの方法で検索できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-328">You can search an Exchange mailbox folder in two ways:</span></span>
  
- <span data-ttu-id="50eae-329">Exchange ストアの検索を使用します。これにより、ターゲット検索スコープ内のすべてのメッセージの順次スキャンを実行します。</span><span class="sxs-lookup"><span data-stu-id="50eae-329">By using an Exchange store search, which performs a sequential scan of all messages in the target search scope.</span></span>
    
- <span data-ttu-id="50eae-330">Exchange Search サービス (コンテンツ インデックス) を使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-330">By using the Exchange Search service (content indexing).</span></span>
    
<span data-ttu-id="50eae-p129">これらの種類の検索は、両方ともタイムアウトになることがあります。これらの検索はメールボックスのインデックスを対象とし、AQS クエリを使用しているため、できれば Exchange Search サービスを使用します。次の例では、EWS および Exchange Search サービスを使用して受信トレイの AQS 検索を実行する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-p129">Both of these types of searches can result in timeouts. When possible, use the Exchange Search service because these searches are often targeted against mailbox indexes and use AQS queries. The following example shows how to perform an AQS search of the Inbox by using EWS and the Exchange Search service.</span></span>
  
```cs
ItemView iv = new ItemView(1000);
FindItemsResults<Item> fiitems = service.FindItems(WellKnownFolderName.Inbox, "subject:football", iv);
```

<span data-ttu-id="50eae-p130">AQS 検索を使用できない場合は、過度に複雑な検索フィルターを使用しないようにします。また、クエリに拡張 MAPI プロパティが含まれる場合は、計算された値に基づいて検索フィルターを作成しないようにもご注意ください。AQS 検索は Exchange 2010 で導入されました。</span><span class="sxs-lookup"><span data-stu-id="50eae-p130">If you can't use an AQS search, avoid using overly complex search filters. Also try to avoid creating search filters based on computed values if the query involves extended MAPI properties. AQS search was introduced in Exchange 2010.</span></span>
  
> [!NOTE]
> <span data-ttu-id="50eae-337">最初に複雑な Exchange ストア検索クエリを実行するときに時間がかかる実行され、タイム ・ アウトします。その後は、クエリが迅速に対応されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-337">The first time you run a complex Exchange store search query, it runs very slowly and may time out. After that, the query will respond more quickly.</span></span> <span data-ttu-id="50eae-338">バックエンドの Exchange の詳細については、交換の際に発生するサーバー プロセスは検索クエリを保存、TechNet の[パフォーマンスへの影響の高数と制限付きビューを理解する](http://technet.microsoft.com/en-us/library/cc535025%28EXCHG.80%29.aspx)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-338">For more information about the backend Exchange server processes that occur during Exchange store search queries, see [Understanding the Performance Impact of High Item Counts and Restricted Views](http://technet.microsoft.com/en-us/library/cc535025%28EXCHG.80%29.aspx) on TechNet.</span></span> <span data-ttu-id="50eae-339">の**SearchFilter**を使用して、今後、同様のクエリを支援する動的な制限を作成がこれらの制限は本質的に動的であるため、永続的なまたは信頼性の高いではない、最大 3 日後に削除します。</span><span class="sxs-lookup"><span data-stu-id="50eae-339">Using a **SearchFilter** creates a dynamic restriction that helps similar queries in the future, but because these restrictions are dynamic in nature, they are not permanent or reliable, and are deleted after a maximum of three days.</span></span> 
  
<span data-ttu-id="50eae-340">**EWSFindCountLimit**ポリシーのパラメーターは、クライアント アクセス サーバー上のメモリに 1 人のユーザーに同時に存在できる**FindItem**または**FindFolder**操作の結果からのアイテムの最大数を指定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-340">The **EWSFindCountLimit** policy parameter specifies the maximum number of items from the results of a **FindItem** or **FindFolder** operation that can exist in memory on a Client Access server at the same time for one user.</span></span> <span data-ttu-id="50eae-341">すべての項目または EWS が**FindItem**または**FindFolder**要求で処理するフォルダーは、 **EWSFindCountLimit**要素で指定されている予算に対してカウントされます。</span><span class="sxs-lookup"><span data-stu-id="50eae-341">Every item or folder that EWS processes in a **FindItem** or **FindFolder** request is counted against the budget specified in the **EWSFindCountLimit** element.</span></span> <span data-ttu-id="50eae-342">応答は、依頼者に返送される、現在の呼び出しの検索数の請求金額が解放されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-342">When the response is sent back to the requester, the find count charge for the current call is released.</span></span> <span data-ttu-id="50eae-343">サーバーに返します、依頼者の予算を超えたときの応答は、 **RequestServerVersion**要素の値と、依頼者がページングを指定するかどうかに基づいています。</span><span class="sxs-lookup"><span data-stu-id="50eae-343">The response the server returns to a requester when the budget is exceeded is based on the **RequestServerVersion** element value and whether the requester specified paging.</span></span> <span data-ttu-id="50eae-344">**RequestServerVersion**要素の値は、Exchange 2010 または Exchange の以前のバージョンを示す、サーバーはエラー コード**ErrorServerBusy**のエラー応答を送信します。</span><span class="sxs-lookup"><span data-stu-id="50eae-344">When the value of the **RequestServerVersion** element indicates Exchange 2010 or an earlier version of Exchange, the server sends a failure response with error code **ErrorServerBusy**.</span></span> <span data-ttu-id="50eae-345">**RequestServerVersion**要素の値は、バージョンを示す場合の Exchange と Exchange 2010 SP1 または Exchange Online では、クライアントの起動を使用してページング、EWS はエラーではなく、部分的な結果を返すことがあります。</span><span class="sxs-lookup"><span data-stu-id="50eae-345">If the value of the **RequestServerVersion** element indicates a version of Exchange starting with Exchange 2010 SP1 or Exchange Online, and the client is using paging, EWS may return a partial result set instead of an error.</span></span> <span data-ttu-id="50eae-346">EWS がすべての項目を返すことがありますされません、アプリケーションが予想されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-346">Your application should expect that EWS might not return all items.</span></span> <span data-ttu-id="50eae-347">**IncludesLastItemInRange**要素の値が false の場合、アプリケーションする必要があります新しいオフセットを持つ別の**FindItem**または**FindFolder**要求継続して**IncludesLastItemInRange**要素が true を返すまでします。</span><span class="sxs-lookup"><span data-stu-id="50eae-347">If the value of the **IncludesLastItemInRange** element is false, the application should make another **FindItem** or **FindFolder** request with the new offset and continue until the **IncludesLastItemInRange** element returns true.</span></span> 
  
<span data-ttu-id="50eae-348">**FindItem**または**FindFolder**操作を使用する場合に、ページングを使用して必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-348">When you use a **FindItem** or **FindFolder** operation, it is important to use paging.</span></span> <span data-ttu-id="50eae-349">EWS のマネージ API は、ページングの使用を強制しますが、EWS プロキシ オブジェクトや、生の SOAP など、他のメソッドを使用している場合は、ページングを明示的に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-349">The EWS Managed API enforces the use of paging, but if you are using other methods, such as EWS proxy objects or raw SOAP, you need to explicitly set paging.</span></span> <span data-ttu-id="50eae-350">次の例では、EWS のマネージ API でページングを使用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-350">The following example shows how to use paging in the EWS Managed API.</span></span> 
  
```cs
ItemView iv = new ItemView(1000);
FindItemsResults<Item> fiFindItemResults = service.FindItems(WellKnownFolderName.Inbox, iv);
```

> [!NOTE]
> <span data-ttu-id="50eae-p134">Exchange の既定のポリシーでは、ページ サイズを 1000 項目に制限します。この数よりも大きい値にページ サイズを設定しても、実際的な効果はありません。</span><span class="sxs-lookup"><span data-stu-id="50eae-p134">The default policy in Exchange limits the page size to 1000 items. Setting the page size to a value that is greater than this number has no practical effect.</span></span> 
  
<span data-ttu-id="50eae-353">アプリケーションは、設定、同時実行を要求するアプリケーションに返される結果の一部のパラメーターの値を調整する_EWSFindCountLimit_がありますということを考慮する必要がありますもします。</span><span class="sxs-lookup"><span data-stu-id="50eae-353">Applications should also account for the fact that the  _EWSFindCountLimit_ throttling parameter value may result in a partial result set being returned for applications that make concurrent requests.</span></span> <span data-ttu-id="50eae-354">次の例では、EWS のマネージ API のすべての結果がクエリに含まれていることを確認するのには**MoreAvailable**プロパティを使用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-354">The following example shows how to use the **MoreAvailable** property in the EWS Managed API to ensure that all results are included in a query.</span></span> 
  
```cs
ItemView iv = new ItemView(1000);
service.TraceEnabled = false;
FindItemsResults<Item> fiResults = null;
Do 
{
    fiResults = service.FindItems(WellKnownFolderName.Inbox, iv);
    PropertySet itItemPropSet = new PropertySet(BasePropertySet.IdOnly) { EmailMessageSchema.Body };
    //Process Items in Result Set
    iv.Offset += fiResults.Items.Count;
}
while (fiResults.MoreAvailable == true);
```

## <a name="throttling-policies-and-concurrency"></a><span data-ttu-id="50eae-355">調整ポリシーと同時実行</span><span class="sxs-lookup"><span data-stu-id="50eae-355">Throttling policies and concurrency</span></span>
<span data-ttu-id="50eae-356"><a name="bk_ThrottlingConcurrency"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-356"></span></span>

<span data-ttu-id="50eae-p136">同時実行とは、特定のユーザーからの接続の数を指します。接続は、要求が受信された時点から応答が要求側に送信されるまで保持されます。ユーザーがポリシーの許可数を超える同時要求を試みると、新しい接続試行は失敗します。ただし、既存の接続は有効なまま維持されます。調整ポリシーは、様々な方法で同時実行に影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-p136">Concurrency refers to the number of connections from a specific user. A connection is held from the moment a request is received until a response is sent to the requester. If users try to make more concurrent requests than their policy allows, the new connection attempt fails. However, the existing connections remain valid. Throttling policies can affect concurrency in a number of different ways.</span></span>
  
<span data-ttu-id="50eae-362">**EWSMaxConcurrency**スロットルのポリシー パラメーターは、特定のユーザーが Exchange サーバーに対して同時に 1 つの同時接続の数を設定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-362">The **EWSMaxConcurrency** throttling policy parameter sets the number of concurrent connections that a specific user can have against an Exchange server at one time.</span></span> <span data-ttu-id="50eae-363">許可する同時接続の最大数を確認するのには、Outlook クライアントを使用する接続を検討してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-363">To determine the maximum number of concurrent connections to allow, consider the connections that Outlook clients will use.</span></span> <span data-ttu-id="50eae-364">Outlook 2007 および Outlook 2010 は、可用性および Office (OOF) の情報にアクセスするのには EWS を使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-364">Outlook 2007 and Outlook 2010 use EWS to access availability and Out of Office (OOF) information.</span></span> <span data-ttu-id="50eae-365">Mac Outlook 2011 では、すべてのクライアント アクセス機能の EWS を使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-365">Mac Outlook 2011 uses EWS for all client access functionality.</span></span> <span data-ttu-id="50eae-366">、積極的にユーザーのメールボックスに接続する Outlook クライアントの数によっては、ユーザーの同時接続の数が限られた可能性があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-366">Depending on the number of Outlook clients that are actively connecting to a user's mailbox, the number of concurrent connections available for a user might be limited.</span></span> <span data-ttu-id="50eae-367">アプリケーションに 1 つのセキュリティ コンテキストを使用しているときに同時に複数のメールボックスに接続する場合は、 **EWSMaxConcurrency**ポリシーの値を考慮に入れる必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-367">Also, if your application has to connect to multiple mailboxes simultaneously while using a single security context, it is important to take the value of the **EWSMaxConcurrency** policy into account.</span></span> <span data-ttu-id="50eae-368">同時接続で 1 つのセキュリティ コンテキストを使用する方法の詳細については、この資料の前半の[EWS の偽装を使用するアプリケーション用のスロットルの考慮事項](http://msdn.microsoft.com/library/961f773a-8b8e-4b4f-a4b9-64305e107ca4.aspx#bk_ThrottlingConsiderations)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-368">For more information about using a single security context with concurrent connections, see [Throttling considerations for applications that use EWS impersonation](http://msdn.microsoft.com/library/961f773a-8b8e-4b4f-a4b9-64305e107ca4.aspx#bk_ThrottlingConsiderations) earlier in this article.</span></span> 
  
<span data-ttu-id="50eae-369">同時に複数のメールボックスに接続するアプリケーションをクライアント側のリソースの使用状況を追跡する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-369">Applications that concurrently connect to multiple mailboxes have to be able to track resource usage on the client side.</span></span> <span data-ttu-id="50eae-370">EWS の操作が要求/応答ベースのため行うことができます**EWSMaxConcurrency**のしきい値の範囲内でアプリケーションの動作は、要求と応答の開始の間で発生する接続の数を追跡することによって受信し、同時に発生する要求を開く 10 個を超えないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="50eae-370">Because EWS operations are request/response-based, you can ensure that your applications function well within the **EWSMaxConcurrency** threshold by tracking the number of connections that occur between the start of a request and when the response is received and ensuring that no more than ten open requests occur concurrently.</span></span> 
  
<span data-ttu-id="50eae-371">**EWSFindCountLimit**ポリシーのパラメーターでは、 **FindItem**または**FindFolder**操作ことができますを使用してクライアント アクセス サーバーで同時に 1 人のユーザーの最大数の結果のサイズを指定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-371">The **EWSFindCountLimit** policy parameter specifies the maximum result size a **FindItem** or **FindFolder** operation can use on a Client Access server at the same time for one user.</span></span> <span data-ttu-id="50eae-372">アプリケーション (または複数のアプリケーション可能性があります) は、100 項目の特定のユーザーを返す 2 つの同時 EWS **FindItem**要求を使用して、その特定のユーザーの予算に対して**EWSFindCountLimit**の費用が 200 になります。</span><span class="sxs-lookup"><span data-stu-id="50eae-372">If an application (or potentially multiple applications) makes two concurrent EWS **FindItem** requests that return 100 items each for a specific user, the **EWSFindCountLimit** charge against that specific user's budget will be 200.</span></span> <span data-ttu-id="50eae-373">100、予算を削除する最初の要求が返されるとき、予算がゼロに低下して 2 番目の要求が返されるとき。</span><span class="sxs-lookup"><span data-stu-id="50eae-373">When the first request returns, the budget drops to 100, and when the second request returns, the budget drops to zero.</span></span> <span data-ttu-id="50eae-374">1000 項目の 2 つの同時要求を作成する同じアプリケーションの場合、予算の値でしょう 2000 アイテム、 **EWSFindCountLimit**の値を超える。</span><span class="sxs-lookup"><span data-stu-id="50eae-374">If the same application were to make two simultaneous requests for 1000 items, the budget value would be 2000 items, which exceeds the **EWSFindCountLimit** value.</span></span> <span data-ttu-id="50eae-375">品目に対するユーザーの予算がゼロを下回った場合、次の要求は、1 つまたは複数ユーザーの予算が充電されますまで、エラーになります。</span><span class="sxs-lookup"><span data-stu-id="50eae-375">If the user's budget for items drops below zero, the next request results in an error until the user's budget recharges to one or more.</span></span> 
  
## <a name="throttling-considerations-for-ews-notification-applications"></a><span data-ttu-id="50eae-376">EWS 通知アプリケーションに関する調整の考慮事項</span><span class="sxs-lookup"><span data-stu-id="50eae-376">Throttling considerations for EWS notification applications</span></span>
<span data-ttu-id="50eae-377"><a name="bk_ThrottlingNotifications"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-377"></span></span>

<span data-ttu-id="50eae-378">EWS 通知プッシュ、プル、または通知をストリーミングを使用するアプリケーションを構築する場合に、 **EWSMaxSubscriptions**と**EWSMaxConcurrency**の制限ポリシー、および、**の影響を検討してください。HangingConnectionLimit**。</span><span class="sxs-lookup"><span data-stu-id="50eae-378">If you are building EWS notification applications that make use of either push, pull, or streaming notifications, you should consider the implications of the **EWSMaxSubscriptions** and the **EWSMaxConcurrency** throttling policies, and the **HangingConnectionLimit**.</span></span> 
  
<span data-ttu-id="50eae-379">**EWSMaxSubscriptions**ポリシーのパラメーターは、アクティブなプッシュ、プル、およびユーザーが特定のクライアント アクセス サーバーで同時に持つことができますストリーミングのサブスクリプションの最大数を指定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-379">The **EWSMaxSubscriptions** policy parameter specifies the maximum number of active push, pull, and streaming subscriptions that a user can have on a specific Client Access server at the same time.</span></span> <span data-ttu-id="50eae-380">異なるバージョンの Exchange では、このパラメーターの既定値があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-380">Different versions of Exchange have different default values for this parameter.</span></span> <span data-ttu-id="50eae-381">ユーザーが**SubscribeToAllFolders**プロパティを使用してメールボックス内のすべてのフォルダーを購読できます - **EWSMaxSubscriptions**の予算に対して 1 つのサブスクリプションを使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-381">A user can subscribe to all folders in a mailbox by using the **SubscribeToAllFolders** property - this uses a single subscription against the **EWSMaxSubscriptions** budget.</span></span> <span data-ttu-id="50eae-382">ユーザーは、個々 のフォルダーを購読できますは、各フォルダーに**EWSMaxSubscriptions**予算の上限に達するまでにサブスクリプションをカウント**EWSMaxSubscriptions**パラメーターの値 (たとえば、ユーザーが購読できる 20 の予定表フォルダー **EWSMaxSubscriptions**が 20 に設定されている場合、別のメールボックスで)。</span><span class="sxs-lookup"><span data-stu-id="50eae-382">Users can subscribe to individual folders, with each folder subscription counting towards the **EWSMaxSubscriptions** budget, up to the limit set by the value of the **EWSMaxSubscriptions** parameter (for example, users can subscribe to 20 calendar folders in different mailboxes if **EWSMaxSubscriptions** is set to 20).</span></span> 
  
<span data-ttu-id="50eae-383">偽装と**EWSMaxSubscriptions**パラメーターについては、この資料の前半の[EWS の偽装を使用するアプリケーション用のスロットルの考慮事項](ews-throttling-in-exchange.md#bk_ThrottlingConsiderations)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-383">For information about impersonation and the **EWSMaxSubscriptions** parameter, see [Throttling considerations for applications that use EWS impersonation](ews-throttling-in-exchange.md#bk_ThrottlingConsiderations) earlier in this article.</span></span> 
  
<span data-ttu-id="50eae-384">**EWSMaxConcurrency**ポリシーのパラメーターには、EWS の通知は、問題ことができます。例えば：</span><span class="sxs-lookup"><span data-stu-id="50eae-384">The **EWSMaxConcurrency** policy parameter can also be an issue for EWS notifications; for example:</span></span> 
  
- <span data-ttu-id="50eae-385">EWS がサブスクリプションの所有者の接続数を増分させる一方で、プッシュ サブスクリプションによって通知が生成される場合。</span><span class="sxs-lookup"><span data-stu-id="50eae-385">When EWS increments the connection count for the owner of the subscription while the notification is being generated by a push subscription.</span></span>
    
- <span data-ttu-id="50eae-386">アプリケーションが複数のユーザーのメールボックスをリッスンするように設計されており、配布リストに送信されたメッセージのインスタンスに関する同時の通知をユーザーたちが受信する場合。</span><span class="sxs-lookup"><span data-stu-id="50eae-386">When an application is designed to listen to multiple users' mailboxes, and users receive simultaneous notifications for an instance of a message that is sent to a distribution list.</span></span>
    
<span data-ttu-id="50eae-387">通知アプリケーションは、マルチ スレッド、同時接続要求を特定のユーザー アカウントで受信したメッセージの詳細については、 **EWSMaxConcurrency**ポリシーの制限を超えることができます。</span><span class="sxs-lookup"><span data-stu-id="50eae-387">If the notification application is multithreaded and makes simultaneous connection requests to get more information about a particular message that was received by a user account, the **EWSMaxConcurrency** policy limit can be exceeded.</span></span> <span data-ttu-id="50eae-388">これを考慮するのには、アプリケーションの同時接続を監視するサーバーによって使用されるものなど、クライアント上のキューの要求を実装することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="50eae-388">To account for this, consider monitoring the concurrent connections in your application, including those that might be used by the server, and implementing request queuing on the client.</span></span> 
  
<span data-ttu-id="50eae-389">**HangingConnectionLimit**は、通知をストリーミングするのには該当する場合のみです。</span><span class="sxs-lookup"><span data-stu-id="50eae-389">The **HangingConnectionLimit** is only applicable to streaming notifications.</span></span> <span data-ttu-id="50eae-390">この制限は、Exchange 管理者は、オンプレミスの Exchange サーバーでこの値を設定できますが、Exchange Online のメールボックスは、オンラインの Exchange および Exchange 2013 の 3 では、この制限の既定値を使用する必要があることを意味する、web.config ファイルで設定されています。</span><span class="sxs-lookup"><span data-stu-id="50eae-390">This limit is set in the web.config file, which means that an Exchange administrator can set this value on an on-premises Exchange server, but Exchange Online mailboxes must use the default value for this limit, which is 3 for both Exchange Online and Exchange 2013.</span></span> <span data-ttu-id="50eae-391">詳細についてを参照してください[考慮に入れるにはスロットル値が必要ですか?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling)です。</span><span class="sxs-lookup"><span data-stu-id="50eae-391">To learn more, see [What throttling values do I need to take into consideration?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</span></span>
  
## <a name="throttling-policy-and-application-performance"></a><span data-ttu-id="50eae-392">調整ポリシーとアプリケーションのパフォーマンス</span><span class="sxs-lookup"><span data-stu-id="50eae-392">Throttling policy and application performance</span></span>
<span data-ttu-id="50eae-393"><a name="bk_PercentTimeIn"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-393"></span></span>

<span data-ttu-id="50eae-394">ポリシーを調整する**PercentTimeIn**の次の 3 つのパラメーターは、クライアント アクセス サーバーで、EWS アプリケーションを使用する時間の量に影響します。</span><span class="sxs-lookup"><span data-stu-id="50eae-394">The following three parameters of the **PercentTimeIn** throttling policy affect the amount of time an EWS application can consume on a Client Access server:</span></span> 
  
- <span data-ttu-id="50eae-395">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="50eae-395">**EWSPercentTimeInAD**</span></span>
    
- <span data-ttu-id="50eae-396">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="50eae-396">**EWSPercentTimeInCAS**</span></span>
    
- <span data-ttu-id="50eae-397">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="50eae-397">**EWSPercentTimeInMailboxRPC**</span></span>
    
<span data-ttu-id="50eae-398">**PercentTimeIn**ポリシーのパラメーターで指定された値は、1 つの要求を行っている 1 つのスレッドが割り当てられた時間量を示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-398">The values specified in the **PercentTimeIn** policy parameters indicate the amount of time that one thread making one request is allocated.</span></span> <span data-ttu-id="50eae-399">などのクライアント アクセス サーバーでコードを実行する各プロセスは、54 秒を費やしている 2 つの同時要求を行った場合、90 の**EWSPercentTimeInCAS**値を想定すると、プロセスを使用して、108 秒、60 秒のウィンドウです。</span><span class="sxs-lookup"><span data-stu-id="50eae-399">For example, assuming a **EWSPercentTimeInCAS** value of 90, if a process makes two concurrent requests that spend 54 seconds each running code on the Client Access server, the process uses 108 seconds in a 60 second window.</span></span> <span data-ttu-id="50eae-400">これは、 **EWSPercentTimeInCAS**パラメーターの値が 180% を表します。</span><span class="sxs-lookup"><span data-stu-id="50eae-400">This represents an **EWSPercentTimeInCAS** parameter value of 180 percent.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="50eae-401">**EWSPercentTimeInCAS**パラメーターの値は、 **EWSPercentTimeInAD**および**EWSPercentTimeInMailboxRPC**パラメーターの値の重複のスーパー セットです。</span><span class="sxs-lookup"><span data-stu-id="50eae-401">The **EWSPercentTimeInCAS** parameter value is an overlapping superset of the **EWSPercentTimeInAD** and **EWSPercentTimeInMailboxRPC** parameter values.</span></span> <span data-ttu-id="50eae-402">これは、クライアント アクセス サーバーの処理時間の支出常になるは**EWSPercentTimeInAD**と**EWSPercentTimeInMailboxRPC**のコストよりも大きいことを意味します。</span><span class="sxs-lookup"><span data-stu-id="50eae-402">This means that the expenditure in Client Access server processing time will always be larger than the expenditures in **EWSPercentTimeInAD** and **EWSPercentTimeInMailboxRPC**.</span></span> <span data-ttu-id="50eae-403">コンポーネントの Active Directory または RPC コールを作成するのにする必要があります既に実行されているクライアント アクセス サーバーのコードがあるためにです。</span><span class="sxs-lookup"><span data-stu-id="50eae-403">This is because for the Exchange component to make an Active Directory or RPC call, it must already be running Client Access server code.</span></span> <span data-ttu-id="50eae-404">さらに、LDAP の中に**EWSPercentTimeInCAS**の処理時間の支出を停止しないか、RPC 呼び出しが行われています。</span><span class="sxs-lookup"><span data-stu-id="50eae-404">In addition, the expenditure in processing time for **EWSPercentTimeInCAS** doesn't stop while LDAP or RPC calls are being made.</span></span> <span data-ttu-id="50eae-405">要求は、Active Directory ドメイン サービス (AD DS) または Exchange ストアからの応答を同期的に待機している可能性があります、プロセスがまだサーバー上のスレッドを消費して、スレッドは引き続きその使用法について、請求するためです。</span><span class="sxs-lookup"><span data-stu-id="50eae-405">Although the request might be synchronously waiting for a response from Active Directory Domain Services (AD DS) or the Exchange store, the process is still consuming a thread on the server, and therefore the thread should continue to be charged for that usage.</span></span> 
  
<span data-ttu-id="50eae-406">CPU 時間が 60 秒以内にアプリケーションがかかる場合があります。 がこれらの制限の範囲を制限を超える可能性があります。したがって、ボリュームおよび行われる要求の種類を考慮すべき重要なです。</span><span class="sxs-lookup"><span data-stu-id="50eae-406">The amount of CPU time an application may take in a 60-second period might exceed these throttling limits; therefore, it is important to consider the volume and type of requests that are being made.</span></span> <span data-ttu-id="50eae-407">たとえば、 **ResolveNames**操作が同時に行われる大規模なバッチは、 **EWSPercentTimeInAD**ポリシー パラメーターの値を超過できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-407">For example, a large batch of **ResolveNames** operations that are made simultaneously can exceed the **EWSPercentTimeInAD** policy parameter value.</span></span> <span data-ttu-id="50eae-408">既定の調整ポリシーに含まれているポリシーの値は問題なく動作するほとんどの EWS アプリケーションを許可するように設計されていますただし、大容量のマルチ スレッド アプリケーションでは、1 つの特定のクライアント アクセス サーバーで大量の要求を配置、ときにこれ問題が生じることができます。</span><span class="sxs-lookup"><span data-stu-id="50eae-408">The policy values that are contained in the default throttling policy are designed to allow most EWS applications to function without issue; however, when multithreaded high-volume applications place a large volume of requests on one particular Client Access server, this can create problems.</span></span> <span data-ttu-id="50eae-409">これを回避するには、サーバーに対して実行されているバッチのサイズを制限することを検討します。</span><span class="sxs-lookup"><span data-stu-id="50eae-409">To avoid this, consider limiting the size of batches that are going to execute against the server.</span></span> 
  
## <a name="throttling-policies-and-applications-that-send-a-large-volume-of-email"></a><span data-ttu-id="50eae-410">大量のメールを送信する調整ポリシーとアプリケーション</span><span class="sxs-lookup"><span data-stu-id="50eae-410">Throttling policies and applications that send a large volume of email</span></span>
<span data-ttu-id="50eae-411"><a name="bk_RateLimits"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-411"></span></span>

<span data-ttu-id="50eae-412">既定の調整ポリシーには、EWS を使用して大量のメッセージを送信したり、短期間で大量のメッセージを送信したりするアプリケーションに影響を与える可能性がある、3 つのレート制限ポリシー パラメーターがあります。 </span><span class="sxs-lookup"><span data-stu-id="50eae-412">The default throttling policies include three rate limit policy parameters that can affect applications that use EWS to send a large volume of messages or send messages in large batches in a short period of time.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="50eae-p146">一般に、一括メールの送信には、EWS を使用しないことをお勧めします。頻繁に大量のメール メッセージを送信するには、一括メール サービスに特化した SMTP ホストを使用します。</span><span class="sxs-lookup"><span data-stu-id="50eae-p146">In general, we recommend that you do not use EWS to send bulk email. Use an SMTP host that specializes in bulk mail services to submit frequent large bulk email messages.</span></span> 
  
<span data-ttu-id="50eae-415">**MessageRateLimit**ポリシーのパラメーターでは、EWS を含む、すべての Exchange クライアントによって送信可能な 1 分あたりのメッセージ数を指定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-415">The **MessageRateLimit** policy parameter specifies the number of messages per minute that can be submitted by any Exchange client, including EWS.</span></span> <span data-ttu-id="50eae-416">既定では、1 分あたり 30 のメッセージにこのポリシーを設定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-416">By default, this policy is set to 30 messages per minute.</span></span> <span data-ttu-id="50eae-417">通常のユーザーは、だけで十分です。</span><span class="sxs-lookup"><span data-stu-id="50eae-417">For ordinary users, this is generally sufficient.</span></span> <span data-ttu-id="50eae-418">ただし、請求のプログラムでは、一部として、たとえば、電子メール メッセージのサイズの大きいバッチを送信するアプリケーションは、問題を実行できます。</span><span class="sxs-lookup"><span data-stu-id="50eae-418">However, applications that send large batches of email messages, for example as part of an invoicing program, can run into problems.</span></span> <span data-ttu-id="50eae-419">このポリシーの制限を超えた場合、メールボックスのメッセージ配信が遅延します。</span><span class="sxs-lookup"><span data-stu-id="50eae-419">When this policy limit is exceeded, message delivery for the mailbox is delayed.</span></span> <span data-ttu-id="50eae-420">具体的には、メッセージは、ユーザーまたはアプリケーションは、 **MessageRateLimit**パラメーターで指定した値より大きな値のメッセージを送信する時間の長い期間の [送信トレイ] や [下書き] フォルダーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-420">Specifically, messages will appear in the Outbox or Drafts folder for longer periods of time when a user or application submits a larger number of messages than the value specified by the **MessageRateLimit** parameter.</span></span> <span data-ttu-id="50eae-421">アプリケーションが Outlook を使用して接続のユーザーのメールボックスを使用する場合に特に追跡システムの提供を開発するときは、考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-421">Be sure to consider this when you are developing a delivery tracking system, especially if your application uses a mailbox that users connect to via Outlook.</span></span> <span data-ttu-id="50eae-422">遅延のアイテムは [送信トレイ] や [下書き] フォルダーに格納されているユーザーとして解釈されるエラー。</span><span class="sxs-lookup"><span data-stu-id="50eae-422">When deferred items are stored in the Outbox or drafts folder, users might interpret that as an error.</span></span> 
  
<span data-ttu-id="50eae-423">**RecipientRateLimit**ポリシーのパラメーターは、ユーザーが 24 時間以内に対処できる受信者の数に制限を指定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-423">The **RecipientRateLimit** policy parameter specifies the limit on the number of recipients that a user can address in a 24-hour period.</span></span> <span data-ttu-id="50eae-424">たとえば、この値は 500 に設定されている場合ことを意味なし 500 以上の受信者の 1 日に 1 つの Exchange メールボックス アカウントがメッセージを送信できることです。</span><span class="sxs-lookup"><span data-stu-id="50eae-424">For example, if this value is set to 500, it means that a single Exchange mailbox account can send messages to no more than 500 recipients each day.</span></span> <span data-ttu-id="50eae-425">内および組織外の受信者へのメッセージにこの制限が適用されます。</span><span class="sxs-lookup"><span data-stu-id="50eae-425">This limit applies to messages to recipients that are inside and outside the organization.</span></span> <span data-ttu-id="50eae-426">この既定の制限値か月間の最後の請求書の実行を行うし、この受信者数を超えるメッセージを送信する必要があるいくつかの基幹業務アプリケーションの問題が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-426">This default limit might cause problems for some line-of-business applications that do end-of-month invoice runs and need to send messages to more than this number of recipients.</span></span> <span data-ttu-id="50eae-427">この制限を回避するには、メッセージまたは送信中継ソリューションの個別設置型のバッチ処理を有効にする外部のサービスを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="50eae-427">You can use external services that enable batch processing of messages or separate on-premises outbound relay solutions to work around this limitation.</span></span> 
  
<span data-ttu-id="50eae-428">**ForwardeeLimit**ポリシーのパラメーターは、受信者がメッセージを転送または受信トレイ ルールを使用するリダイレクトの最大数を指定します。</span><span class="sxs-lookup"><span data-stu-id="50eae-428">The **ForwardeeLimit** policy parameter specifies the maximum number of recipients that messages can be forwarded or redirected to by means of Inbox rules.</span></span> <span data-ttu-id="50eae-429">このパラメーターには、転送または受信者にリダイレクトできるメッセージの数を制限しません。</span><span class="sxs-lookup"><span data-stu-id="50eae-429">This parameter doesn't limit the number of messages that can be forwarded or redirected to the recipients.</span></span> 
  
## <a name="errors-generated-when-throttling-limits-are-exceeded"></a><span data-ttu-id="50eae-430">エラー</span><span class="sxs-lookup"><span data-stu-id="50eae-430">Errors generated when throttling limits are exceeded</span></span>
<span data-ttu-id="50eae-431"><a name="bk_ThrottlingErrors"> </a></span><span class="sxs-lookup"><span data-stu-id="50eae-431"></span></span>

<span data-ttu-id="50eae-432">調整ポリシーを超過すると、EWS は次の表に記載するエラーのいずれかを生成します。</span><span class="sxs-lookup"><span data-stu-id="50eae-432">When throttling polices are exceeded, EWS generates one of the errors listed in the following table.</span></span>
  
<span data-ttu-id="50eae-433">**表 3: 調整の制限のエラー**</span><span class="sxs-lookup"><span data-stu-id="50eae-433">**Table 3: Throttling limit errors**</span></span>

|<span data-ttu-id="50eae-434">**Error**</span><span class="sxs-lookup"><span data-stu-id="50eae-434">**Error**</span></span>|<span data-ttu-id="50eae-435">**ポリシー パラメーターの調整**</span><span class="sxs-lookup"><span data-stu-id="50eae-435">**Throttling policy parameter**</span></span>|<span data-ttu-id="50eae-436">**説明**</span><span class="sxs-lookup"><span data-stu-id="50eae-436">**Description**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="50eae-437">ErrorExceededConnectionCount</span><span class="sxs-lookup"><span data-stu-id="50eae-437">ErrorExceededConnectionCount</span></span>  <br/> |<span data-ttu-id="50eae-438">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="50eae-438">**EWSMaxConcurrency**</span></span> <br/> |<span data-ttu-id="50eae-439">サーバーに対する同時要求が、ユーザーのポリシーで許可されているものより多いことを示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-439">Indicates that there are more concurrent requests against the server than are allowed by a user's policy.</span></span>  <br/> |
|<span data-ttu-id="50eae-440">ErrorExceededSubscriptionCount</span><span class="sxs-lookup"><span data-stu-id="50eae-440">ErrorExceededSubscriptionCount</span></span>  <br/> |<span data-ttu-id="50eae-441">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="50eae-441">**EWSMaxSubscriptions**</span></span> <br/> |<span data-ttu-id="50eae-442">ユーザーの調整ポリシーのサブスクリプションの最大数を超過したことを示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-442">Indicates that a user's throttling policy maximum subscription count has been exceeded.</span></span>  <br/> |
|<span data-ttu-id="50eae-443">ErrorExceededFindCountLimit</span><span class="sxs-lookup"><span data-stu-id="50eae-443">ErrorExceededFindCountLimit</span></span>  <br/> |<span data-ttu-id="50eae-444">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="50eae-444">**EWSFindCountLimit**</span></span> <br/> |<span data-ttu-id="50eae-445">検索操作の呼び出しが、返すことのできる項目の合計数を超えたことを示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-445">Indicates that a search operation call has exceeded the total number of items that can be returned.</span></span>  <br/> |
|<span data-ttu-id="50eae-446">ErrorServerBusy</span><span class="sxs-lookup"><span data-stu-id="50eae-446">ErrorServerBusy</span></span>  <br/> |<span data-ttu-id="50eae-447">**EWSPercentTimeInMailboxRPC**         **EWSPercentTimeInCAS**         **EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="50eae-447">**EWSPercentTimeInMailboxRPC**         **EWSPercentTimeInCAS**         **EWSPercentTimeInAD**</span></span> <br/> |<span data-ttu-id="50eae-p150">サーバーがビジー状態のときに発生します。ErrorServerBusy エラーと共に返される BackOffMilliseconds 値は、このエラー コードを返した応答の原因となった要求を再送信するまでに待機すべき時間数をクライアントに対して示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-p150">Occurs when the server is busy. The BackOffMilliseconds value returned with ErrorServerBusy errors indicates to the client the amount of time it should wait until it should resubmit the request that caused the response that returned this error code.</span></span>  <br/> |
   
<span data-ttu-id="50eae-450">次の表は、調整エラーによって返される HTTP ステータス コードを示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-450">The following table lists the HTTP status codes that are returned by throttling errors.</span></span>
  
<span data-ttu-id="50eae-451">**表 4: エラーを調整することによって返される HTTP ステータス ・ コード**</span><span class="sxs-lookup"><span data-stu-id="50eae-451">**Table 4: HTTP status codes returned by throttling errors**</span></span>

|<span data-ttu-id="50eae-452">**HTTP ステータス コード**</span><span class="sxs-lookup"><span data-stu-id="50eae-452">**HTTP status code**</span></span>|<span data-ttu-id="50eae-453">**説明**</span><span class="sxs-lookup"><span data-stu-id="50eae-453">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="50eae-454">HTTP 503</span><span class="sxs-lookup"><span data-stu-id="50eae-454">HTTP 503</span></span>  <br/> |<span data-ttu-id="50eae-p151">EWS 要求が IIS でキューイングしていることを示します。クライアントは、追加の要求の送信をしばらく遅らせる必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-p151">Indicates that EWS requests are queuing with IIS. The client should delay sending additional requests until a later time.</span></span>  <br/> |
|<span data-ttu-id="50eae-457">HTTP 500</span><span class="sxs-lookup"><span data-stu-id="50eae-457">HTTP 500</span></span>  <br/> |<span data-ttu-id="50eae-p152">内部サーバー エラーと ErrorServerBusy エラー コードを示します。これは、クライアントが追加の要求の送信をしばらく遅延させる必要があることを示します。応答には、BackOffMilliseconds と呼ばれるバックオフのヒントが含まれる可能性があります。これが存在する場合は、クライアントが要求を再送信するまでの期間として BackOffMilliseconds の値を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50eae-p152">Indicates an internal server error with the ErrorServerBusy error code. This indicates that the client should delay sending additional requests until a later time. The response may contain a back off hint called BackOffMilliseconds. If present, the value of BackOffMilliseconds should be used as the duration until the client resubmits a request.</span></span>  <br/> |
|<span data-ttu-id="50eae-462">HTTP 200</span><span class="sxs-lookup"><span data-stu-id="50eae-462">HTTP 200</span></span>  <br/> |<span data-ttu-id="50eae-p153">EWS スキーマ ベースのエラー応答と ErrorInternalServerError のエラー コードが含まれています。内部の ErrorServerBusy エラー コードが存在する可能性があります。これは、クライアントが追加の要求の送信をしばらく遅延させる必要があることを示します。</span><span class="sxs-lookup"><span data-stu-id="50eae-p153">Contains an EWS schema-based error response with an ErrorInternalServerError error code. An inner ErrorServerBusy error code may be present. This indicates that the client should delay sending additional requests until a later time.</span></span>  <br/> |
   
## <a name="see-also"></a><span data-ttu-id="50eae-466">関連項目</span><span class="sxs-lookup"><span data-stu-id="50eae-466">See also</span></span>

- [<span data-ttu-id="50eae-467">Exchange ワークロード管理</span><span class="sxs-lookup"><span data-stu-id="50eae-467">Exchange Workload Management</span></span>](http://technet.microsoft.com/en-us/library/jj150503.aspx)
- [<span data-ttu-id="50eae-468">ThrottlingPolicy で新しいコマンドレット</span><span class="sxs-lookup"><span data-stu-id="50eae-468">New-ThrottlingPolicy cmdlet</span></span>](http://technet.microsoft.com/en-us/library/dd351045.aspx)
- [<span data-ttu-id="50eae-469">クライアントのポリシーの制限を理解します。</span><span class="sxs-lookup"><span data-stu-id="50eae-469">Understanding Client Throttling Policies</span></span>](http://technet.microsoft.com/en-us/library/dd297964.aspx)
- [<span data-ttu-id="50eae-470">ThrottlingPolicy クラス</span><span class="sxs-lookup"><span data-stu-id="50eae-470">ThrottlingPolicy Class</span></span>](http://msdn.microsoft.com/en-us/library/ff342496%28v=EXCHG.140%29.aspx)
- [<span data-ttu-id="50eae-471">スロットルのポリシーと、EWSFindCountLimit</span><span class="sxs-lookup"><span data-stu-id="50eae-471">Throttling Policies and the EWSFindCountLimit</span></span>](http://blogs.msdn.com/b/exchangedev/archive/2010/03/12/throttling-policies-and-the-ewsfindcountlimit.aspx)
- [<span data-ttu-id="50eae-472">IIS ログに予算のスナップショット</span><span class="sxs-lookup"><span data-stu-id="50eae-472">Budget Snapshots in the IIS Logs</span></span>](http://blogs.msdn.com/b/exchangedev/archive/2010/03/10/budget-snapshots-in-the-iis-logs.aspx)
- [<span data-ttu-id="50eae-473">Exchange 2010 sp1 では、配置の調整の効果</span><span class="sxs-lookup"><span data-stu-id="50eae-473">Effects of Throttling on Your Deployment in Exchange 2010 SP1</span></span>](http://msexchangeteam.com/archive/2010/08/27/456040.aspx)
- [<span data-ttu-id="50eae-474">Exchange 2010 sp1 では、ポリシー関連の調整</span><span class="sxs-lookup"><span data-stu-id="50eae-474">Throttling Policy Associations in Exchange 2010 SP1</span></span>](http://msexchangeteam.com/archive/2010/08/02/455707.aspx)
- [<span data-ttu-id="50eae-475">スロットルのポリシーと CPUStartPercent</span><span class="sxs-lookup"><span data-stu-id="50eae-475">Throttling Policies and CPUStartPercent</span></span>](http://blogs.msdn.com/b/exchangedev/archive/2010/03/11/throttling-policies-and-cpustartpercent.aspx)
- [<span data-ttu-id="50eae-476">Exchange の偽装と EWS</span><span class="sxs-lookup"><span data-stu-id="50eae-476">Impersonation and EWS in Exchange</span></span>](impersonation-and-ews-in-exchange.md)
    

