---
title: Exchange のバックアップと復元
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 329902d9-0ecb-4cfb-86dd-5ce863deff3f
description: Exchange 2013 用のバックアップおよび復元アプリケーションの作成に関する情報を参照してください。
ms.openlocfilehash: 1c5d99be60501fd1c4414ea22294bd05645bb0a7
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/31/2020
ms.locfileid: "44455241"
---
# <a name="backup-and-restore-for-exchange"></a><span data-ttu-id="f098a-103">Exchange のバックアップと復元</span><span class="sxs-lookup"><span data-stu-id="f098a-103">Backup and restore for Exchange</span></span>
  
<span data-ttu-id="f098a-104">Exchange Server 2013 では、データベース可用性グループ (Dag) が提供されており、保存されたデータを安全かつ利用可能な状態に保つことができます。また、カスタムのバックアップおよび復元アプリケーションの必要性を減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="f098a-104">Exchange Server 2013 provides Database Availability Groups (DAGs), which help to keep stored data secure and available, and reduce the need for custom backup and restore applications.</span></span> <span data-ttu-id="f098a-105">Dag は、データが失われないようにするために、オフサイトデータの冗長性を有効にします。</span><span class="sxs-lookup"><span data-stu-id="f098a-105">DAGs enable off-site data redundancy to help ensure that you won't lose data.</span></span> <span data-ttu-id="f098a-106">しかし、多くの障害復旧計画には、DAG による冗長性を確保するために、従来のバックアップと復元の方法、およびカスタムアプリケーションを含むシステムが引き続き含まれています。</span><span class="sxs-lookup"><span data-stu-id="f098a-106">However, many disaster recovery plans continue to include more traditional backup and restore methods and systems, including custom applications, for redundancy with the DAG.</span></span> <span data-ttu-id="f098a-107">組織でデータの可用性と冗長性を確保するために、exchange Server および Windows Server オペレーティングシステムテクノロジを使用して Exchange データをバックアップおよび復元するカスタムアプリケーションを作成できます。</span><span class="sxs-lookup"><span data-stu-id="f098a-107">To help ensure data availability and redundancy in your organization, you can create custom applications that use Exchange Server and Windows Server operating system technologies to back up and restore your Exchange data.</span></span>

<span data-ttu-id="f098a-108"><a name="bk_plugin"> </a></span><span class="sxs-lookup"><span data-stu-id="f098a-108"><a name="bk_plugin"> </a></span></span>

## <a name="backup-technologies-in-exchange-2013"></a><span data-ttu-id="f098a-109">Exchange 2013 バックアップ テクノロジ</span><span class="sxs-lookup"><span data-stu-id="f098a-109">Backup technologies in Exchange 2013</span></span>

<span data-ttu-id="f098a-110">Exchange 2013 には、管理者が Exchange データの VSS ベースのバックアップを作成するために使用できる Windows Server バックアップ用プラグインが含まれています。</span><span class="sxs-lookup"><span data-stu-id="f098a-110">Exchange 2013 includes a plug-in for Windows Server Backup that administrators can use to make VSS-based backups of Exchange data.</span></span> <span data-ttu-id="f098a-111">また、管理者は Exchange データベースのバックアップと復元にも Windows Server バックアップを使用できます。</span><span class="sxs-lookup"><span data-stu-id="f098a-111">Administrators can also use Windows Server Backup to back up and restore Exchange databases.</span></span> <span data-ttu-id="f098a-112">Exchange 2013 用のバックアップと復元アプリケーションを作成する場合は、exchange 2013 用の VSS writer をサポートする Exchange 対応アプリケーションを作成し、そのバックアップの整合性を検証するために CHKSGFILES API を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f098a-112">If you are creating a backup and restore application for Exchange 2013, you need to create an Exchange-aware application that supports the VSS writer for Exchange 2013, and use the CHKSGFILES API to validate the consistency of that backup.</span></span> <span data-ttu-id="f098a-113">詳細については、「 [Exchange 2013 で CHKSGFILES API を使用してバックアップの整合性を検証](how-to-validate-backup-integrity-by-using-the-chksgfiles-api-in-exchange.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f098a-113">For more information, see [Validate backup integrity by using the CHKSGFILES API in Exchange 2013](how-to-validate-backup-integrity-by-using-the-chksgfiles-api-in-exchange.md).</span></span>

<span data-ttu-id="f098a-114"><a name="bk_vsswriter"> </a></span><span class="sxs-lookup"><span data-stu-id="f098a-114"><a name="bk_vsswriter"> </a></span></span>

## <a name="vss-writer-in-exchange-2013"></a><span data-ttu-id="f098a-115">Exchange 2013 の VSS ライター</span><span class="sxs-lookup"><span data-stu-id="f098a-115">VSS writer in Exchange 2013</span></span>

<span data-ttu-id="f098a-116">Exchange 2013 では、exchange Server 2010 および Exchange Server 2007 の VSS writer アーキテクチャに大きな変更が導入されています。</span><span class="sxs-lookup"><span data-stu-id="f098a-116">Exchange 2013 introduces a significant change to the VSS writer architecture in Exchange Server 2010 and Exchange Server 2007.</span></span> <span data-ttu-id="f098a-117">Exchange 2010 と Exchange 2007 には、2つの VSS ライター (Exchange Information Store service (store.exe) 内と Exchange Replication サービス (msexchangerepl.exe) 内部に1つ) が含まれています。</span><span class="sxs-lookup"><span data-stu-id="f098a-117">Exchange 2010 and Exchange 2007 include two VSS writers: one inside the Exchange Information Store service (store.exe) and one inside the Exchange Replication service (msexchangerepl.exe).</span></span> <span data-ttu-id="f098a-118">Exchange 2013 では、VSS ライター機能は Exchange レプリケーションサービスにあります。</span><span class="sxs-lookup"><span data-stu-id="f098a-118">In Exchange 2013, the VSS writer functionality is located in the Exchange Replication service.</span></span> <span data-ttu-id="f098a-119">バックアップと復元のアプリケーションは、Microsoft Exchange Writer と呼ばれる新しい VSS writer を使用して、アクティブデータベースコピーとパッシブデータベースコピーをバックアップし、バックアップしたデータベースコピーを復元します。</span><span class="sxs-lookup"><span data-stu-id="f098a-119">Your backup and restore application uses the new VSS writer, called the Microsoft Exchange Writer, to back up active and passive database copies, and to restore backed up database copies.</span></span> <span data-ttu-id="f098a-120">新しい VSS writer は Exchange Replication サービスで実行されますが、ライターを使用できるようにするには、Exchange Information Store サービスが実行されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="f098a-120">Although the new VSS writer runs in the Exchange Replication service, the Exchange Information Store service must be running in order for the writer to be available.</span></span> <span data-ttu-id="f098a-121">そのため、Exchange データベースのバックアップの作成や復元には両方のサービスが必要です。</span><span class="sxs-lookup"><span data-stu-id="f098a-121">As a result, both services are required to back up or restore Exchange databases.</span></span>
  
<span data-ttu-id="f098a-122">VSS writer アーキテクチャは Exchange 2013 で更新されましたが、基礎となる機能は変更されていません。</span><span class="sxs-lookup"><span data-stu-id="f098a-122">Although the VSS writer architecture was updated in Exchange 2013, the underlying functionality has not changed.</span></span> <span data-ttu-id="f098a-123">Exchange 2010 用のバックアップと復元アプリケーションを作成した場合は、Exchange 2013 のアプリケーションを変更する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="f098a-123">If you created a backup and restore application for Exchange 2010, you do not need to make any changes to your application for Exchange 2013.</span></span> <span data-ttu-id="f098a-124">互換性を確保するために、最新のファイルを使用してカスタム アプリケーションを再コンパイルしてください。</span><span class="sxs-lookup"><span data-stu-id="f098a-124">Be sure to recompile your application with the latest files to ensure compatibility.</span></span> <span data-ttu-id="f098a-125">Exchange 2007 以前のバージョン用に作成したバックアップおよび復元アプリケーションは、最新の CHKSGFILES API を使用するようにコードを書き直す必要があります。</span><span class="sxs-lookup"><span data-stu-id="f098a-125">For backup and restore applications created for Exchange 2007 or earlier versions, you will need to rewrite your code to use the latest CHKSGFILES API.</span></span>
  
## <a name="what-you-need-to-know-about-vss-backup-and-restore"></a><span data-ttu-id="f098a-126">VSS バックアップおよび復元について知っておくべき事項</span><span class="sxs-lookup"><span data-stu-id="f098a-126">What you need to know about VSS backup and restore</span></span>

|<span data-ttu-id="f098a-127">ご参考までに</span><span class="sxs-lookup"><span data-stu-id="f098a-127">If you're wondering about…</span></span>|<span data-ttu-id="f098a-128">説明</span><span class="sxs-lookup"><span data-stu-id="f098a-128">Read this</span></span>|
|:-----|:-----|
|<span data-ttu-id="f098a-129">アプリケーション アーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="f098a-129">Application architectures</span></span>  <br/> |<span data-ttu-id="f098a-130">Exchange データベースのバックアップに VSS を使用するバックアップおよび復元アプリケーションは、通常、バックアップを実行するバックグラウンド サービス、スケジュール サービス、およびバックアップと復元システムを制御および構成する Windows GUI アプリケーション コンソールで成り立っています。</span><span class="sxs-lookup"><span data-stu-id="f098a-130">Backup and restore applications that use VSS to back up Exchange databases typically consist of a background service that performs the backup, a scheduling service, and a Windows GUI application console that controls and configures the backup and restore system.</span></span>  <br/> |
|<span data-ttu-id="f098a-131">リモート使用</span><span class="sxs-lookup"><span data-stu-id="f098a-131">Remote usage</span></span>  <br/> |<span data-ttu-id="f098a-p105">Exchange サーバーのバックアップに VSS を使用するアプリケーションは、Exchange ストア プロセスを実行している Windows Server 2008 コンピューター上で実行する必要があります。大規模なストレージ システムの柔軟性を確保するために、Windows Server 2008 を実行するコンピューターには、ストレージ ボリュームをホストするハードウェアが物理的に含まれないようにします。</span><span class="sxs-lookup"><span data-stu-id="f098a-p105">Applications that use VSS to back up Exchange servers must run on the Windows Server 2008 computer on which the Exchange store process is running. Because of the flexibility in large storage systems, the hardware hosting the storage volumes might not physically be part of the computer running Windows Server 2008.</span></span>  <br/> |
|<span data-ttu-id="f098a-134">言語とツール</span><span class="sxs-lookup"><span data-stu-id="f098a-134">Languages and tools</span></span>  <br/> |<span data-ttu-id="f098a-p106">VSS の使用には、COM 準拠の任意の言語を使用できます。C++ で記述されたアプリケーションで、最も多く使用されています。シャドウ コピーの作成には、Exchange ストアをオフラインにすることが必要になるため、通常、バックアップ アプリケーションは時間が重要になります。そのため、Visual Basic や VBScript などの言語の使用は現実的ではありません。</span><span class="sxs-lookup"><span data-stu-id="f098a-p106">You can use any COM-compatible language to use VSS. It is most frequently used in applications written in C++. Because you have to take the Exchange store offline to create shadow copies, backup applications are typically time-sensitive, which in most cases makes using languages like Visual Basic or VBScript impractical.</span></span>  <br/> |
|<span data-ttu-id="f098a-138">マネージ実装</span><span class="sxs-lookup"><span data-stu-id="f098a-138">Managed implementation</span></span>  <br/> |<span data-ttu-id="f098a-139">VSS API は、COM 相互運用機能アセンブリを通じて、マネージ コード環境で使用できます。</span><span class="sxs-lookup"><span data-stu-id="f098a-139">You can use the VSS APIs in a managed code environment via a COM Interop Assembly.</span></span>  <br/> |
|<span data-ttu-id="f098a-140">スクリプトで使用可能</span><span class="sxs-lookup"><span data-stu-id="f098a-140">Scriptable</span></span>  <br/> |<span data-ttu-id="f098a-141">はい。ただし、お勧めしません。</span><span class="sxs-lookup"><span data-stu-id="f098a-141">Yes, but not recommended.</span></span>  <br/> |
|<span data-ttu-id="f098a-142">利用可能なテスト ツールとデバッグ ツール</span><span class="sxs-lookup"><span data-stu-id="f098a-142">Available test and debug tools</span></span>  <br/> |<span data-ttu-id="f098a-143">Windows VSS を使用するアプリケーションのデバッグに、特別なツールは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="f098a-143">No special tools are required to debug applications that use the Windows VSS.</span></span>  <br/> |
   
## <a name="in-this-section"></a><span data-ttu-id="f098a-144">このセクションの内容</span><span class="sxs-lookup"><span data-stu-id="f098a-144">In this section</span></span>

- [<span data-ttu-id="f098a-145">Exchange 2013 のバックアップと復元の概念</span><span class="sxs-lookup"><span data-stu-id="f098a-145">Backup and restore concepts for Exchange 2013</span></span>](backup-and-restore-concepts-for-exchange-2013.md)
    
- [<span data-ttu-id="f098a-146">Exchange 2013 のバックアップと復元アプリケーションの作成</span><span class="sxs-lookup"><span data-stu-id="f098a-146">Build backup and restore applications for Exchange 2013</span></span>](build-backup-and-restore-applications-for-exchange-2013.md)
    
- [<span data-ttu-id="f098a-147">CChkSGFiles クラスの参照</span><span class="sxs-lookup"><span data-stu-id="f098a-147">CChkSGFiles class reference</span></span>](cchksgfiles-class-reference.md)
    
## <a name="see-also"></a><span data-ttu-id="f098a-148">関連項目</span><span class="sxs-lookup"><span data-stu-id="f098a-148">See also</span></span>

- [<span data-ttu-id="f098a-149">ボリュームシャドウコピーサービス (Windows)</span><span class="sxs-lookup"><span data-stu-id="f098a-149">Volume Shadow Copy Service (Windows)</span></span>](https://msdn.microsoft.com/library/windows/desktop/bb968832%28v=vs.85%29.aspx)   
- <span data-ttu-id="f098a-150">
  [Exchange の EWS Managed API、EWS、および Web サービスについて学ぶ](../exchange-web-services/explore-the-ews-managed-api-ews-and-web-services-in-exchange.md)</span><span class="sxs-lookup"><span data-stu-id="f098a-150">[Explore the EWS Managed API, EWS, and web services in Exchange](../exchange-web-services/explore-the-ews-managed-api-ews-and-web-services-in-exchange.md)</span></span>  
- [<span data-ttu-id="f098a-151">Exchange Management Shell</span><span class="sxs-lookup"><span data-stu-id="f098a-151">Exchange Management Shell</span></span>](../management/exchange-management-shell.md)   
- [<span data-ttu-id="f098a-152">Exchange のトランスポート エージェント</span><span class="sxs-lookup"><span data-stu-id="f098a-152">Transport agents in Exchange</span></span>](../transport-agents/transport-agents-in-exchange-2013.md) 
    

