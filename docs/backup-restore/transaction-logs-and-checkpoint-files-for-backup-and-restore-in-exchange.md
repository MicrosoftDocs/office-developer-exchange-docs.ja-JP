---
title: トランザクション ログとチェックポイント ・ ファイルのバックアップと Exchange の復元
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 80e04b9f-87c7-4acf-89b1-aa66ffaf7e53
description: および、トランザクション ログとチェックポイント ファイルをバックアップし、Exchange 2013 のデータの復元の使用方法に関する情報を検索します。
ms.openlocfilehash: 53f128348bb2e8895bc1eefaf62402fa348c81ea
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2018
ms.locfileid: "19758888"
---
# <a name="transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange"></a>トランザクション ログとチェックポイント ・ ファイルのバックアップと Exchange の復元

および、トランザクション ログとチェックポイント ファイルをバックアップし、Exchange 2013 のデータの復元の使用方法に関する情報を検索します。
  
**に適用されます:** Exchange Server 2013 
  
この資料では、データ損失を防ぐために、Exchange Server 2013 がトランザクション ログとチェックポイント ファイルを使用する方法について説明します。 バックアップを作成し、Windows サーバーが Windows Server 2008 以降のバージョンでは、ボリューム シャドウ コピー サービス (VSS) を使用するアプリケーションを復元するときにこの情報を認識する必要があります。
  
## <a name="transaction-logs-in-exchange-2013"></a>Exchange 2013 のトランザクション ログ

Exchange 2013 では、各データベースのトランザクション ログ ファイルの 1 つのセットを保持します。 トランザクションは、状態、またはデータベースの内容を変更する操作として定義されます。 データベース上のすべてのトランザクションが実行される個々 のデータベース レコードのトランザクション ログ ファイルです。 トランザクションのレコードは、データベース障害が発生した場合、すべてのコミットされたトランザクションを復旧できることを確実にデータベース自体に行われる前に、トランザクション ・ ログに書き込まれます。 2013 の Exchange データベースのトランザクション ログは、トランザクションがデータベース ファイルにコミットされる前にディスクに保存されます。 
  
データベースが更新される前にトランザクションの記録は、先行書き込みログと呼ばれます。 データベースが正しく戻す適切な状態に確実には、Exchange 2013 は、ページ ベースの書き込みは、チェックポイントを使用して、データベース ファイルにデータを書き込みます。 通常の操作中に Exchange ストア最初にトランザクション ・ ログ、データベースの変更を記録し、それらの変更、データベースのメモリ内コピーにします。 先頭と末尾の各トランザクションをトランザクション ログに記録します。 これにより、十分な情報が後で元に戻すまたは、データベースの操作をロールバックするに使用可能です。
  
ディスク上のデータベース ファイルが破損していても、トランザクション ログ ファイルが無事なときのエラーから回復する場合、復元アプリケーションでは、最初に正常だとわかっているデータベース ファイルのコピーを復元する必要があります。
  
Exchange ストアは、以前にバックアップしたトランザクション ログからトランザクションを再生してから、残りのトランザクションをディスク上のトランザクション ログ ファイルから再生します。トランザクションがトランザクション ログに記録される時点と、そのトランザクションが実際にデータベース ファイルに書き込まれる時点の間でシステムに障害が発生すると、トランザクションが失われる可能性がある点にご注意ください。  
  
Exchange ストアは、定期的にメモリ内のデータベース イメージを調べて、どのページに変更があったかを判断します。Exchange ストアは、保留中の変更を結合してから、該当するページをディスク上のデータベース ファイルに書き込みます。
  
## <a name="checkpoint-files-in-exchange-2013"></a>Exchange 2013 のチェックポイント ファイル

チェックポイント ファイルには、ログに記録されたトランザクションのどれがディスク上のデータベース ファイルに書き込まれたかを記録します。チェックポイント ファイルは、トランザクション ログのエントリで更新されたすべてのデータベース ページが正常にディスクに書き込まれた時点で先に進められます。チェックポイント ファイルは、既にディスク上のデータベース イメージに含まれるトランザクションを記録しているため、Exchange ストアは、チェックポイントの後に発生したトランザクションを再生するだけで十分です。バックアップ周期の長さによっては、システム障害時にデータベースに再生する必要のあるトランザクションの数を大幅に削減できます。
  
## <a name="see-also"></a>関連項目

- [Exchange 2013 のバックアップと復元の概念](backup-and-restore-concepts-for-exchange-2013.md)
- [Exchange 2013 のバックアップ操作の種類](types-of-backup-operations-for-exchange-2013.md)
- [2013 の Exchange データベースを復元します。](restoring-exchange-2013-databases.md)
    

